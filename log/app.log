2022-02-11 00:55:51.234  INFO 5580 --- [main] c.e.bankservice.BankServiceApplication   : Starting BankServiceApplication using Java 11.0.9 on POSI-PC with PID 5580 (C:\Users\POSI\Desktop\atm-emulator\bank-service\build\classes\java\main started by POSI in C:\Users\POSI\Desktop\atm-emulator\bank-service)
2022-02-11 00:55:51.236  INFO 5580 --- [main] c.e.bankservice.BankServiceApplication   : No active profile set, falling back to default profiles: default
2022-02-11 00:55:51.811  INFO 5580 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-02-11 00:55:51.863  INFO 5580 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 46 ms. Found 2 JPA repository interfaces.
2022-02-11 00:55:52.485  INFO 5580 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-02-11 00:55:52.503  INFO 5580 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-02-11 00:55:52.503  INFO 5580 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-02-11 00:55:52.586  INFO 5580 --- [main] o.a.c.c.C.[.[localhost].[/bank-service]  : Initializing Spring embedded WebApplicationContext
2022-02-11 00:55:52.587  INFO 5580 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1311 ms
2022-02-11 00:55:52.739  INFO 5580 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-02-11 00:55:52.777  INFO 5580 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-02-11 00:55:52.911  INFO 5580 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-02-11 00:55:53.001  INFO 5580 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-02-11 00:55:53.263  INFO 5580 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-02-11 00:55:53.281  INFO 5580 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-02-11 00:55:53.829  INFO 5580 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-02-11 00:55:53.837  INFO 5580 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-02-11 00:55:53.872  WARN 5580 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-02-11 00:55:54.138 TRACE 5580 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.auth' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 00:55:54.146 TRACE 5580 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.getTransactionDtoList' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 00:55:54.147 TRACE 5580 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.deposit' with attribute: PROPAGATION_REQUIRES_NEW,ISOLATION_DEFAULT
2022-02-11 00:55:54.147 TRACE 5580 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.checkIfUserExists' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 00:55:54.147 TRACE 5580 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.withdraw' with attribute: PROPAGATION_REQUIRES_NEW,ISOLATION_DEFAULT
2022-02-11 00:55:54.148 TRACE 5580 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.getBalance' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 00:55:54.267  INFO 5580 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f5167f0, org.springframework.security.web.context.SecurityContextPersistenceFilter@7cdb05aa, org.springframework.security.web.header.HeaderWriterFilter@65f470f8, org.springframework.security.web.authentication.logout.LogoutFilter@1002d1c8, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1abbc1d4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@77401977, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@713497cd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1260c85e, org.springframework.security.web.session.SessionManagementFilter@6556471b, org.springframework.security.web.access.ExceptionTranslationFilter@52325940, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4b9b5da5]
2022-02-11 00:55:54.556  INFO 5580 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path '/bank-service'
2022-02-11 00:55:54.563  INFO 5580 --- [main] c.e.bankservice.BankServiceApplication   : Started BankServiceApplication in 3.765 seconds (JVM running for 4.132)
2022-02-11 00:56:09.418  INFO 5580 --- [http-nio-8081-exec-1] o.a.c.c.C.[.[localhost].[/bank-service]  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-02-11 00:56:09.419  INFO 5580 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-02-11 00:56:09.420  INFO 5580 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2022-02-11 00:56:09.821  WARN 5580 --- [http-nio-8081-exec-1] o.a.c.util.SessionIdGeneratorBase        : Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [191] milliseconds.
2022-02-11 00:56:09.856 TRACE 5580 --- [http-nio-8081-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.checkIfUserExists]
2022-02-11 00:56:09.866 TRACE 5580 --- [http-nio-8081-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByCardNumber]: This method is not transactional.
2022-02-11 00:56:09.963 TRACE 5580 --- [http-nio-8081-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.checkIfUserExists]
2022-02-11 00:56:14.572 TRACE 5580 --- [http-nio-8081-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.auth]
2022-02-11 00:56:14.574 TRACE 5580 --- [http-nio-8081-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2022-02-11 00:56:14.587 TRACE 5580 --- [http-nio-8081-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2022-02-11 00:56:14.588 TRACE 5580 --- [http-nio-8081-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.auth]
2022-02-11 00:56:30.419 TRACE 5580 --- [http-nio-8081-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.deposit]
2022-02-11 00:56:30.419 TRACE 5580 --- [http-nio-8081-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2022-02-11 00:56:30.421 TRACE 5580 --- [http-nio-8081-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2022-02-11 00:56:30.422 TRACE 5580 --- [http-nio-8081-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2022-02-11 00:56:30.435 TRACE 5580 --- [http-nio-8081-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2022-02-11 00:56:30.435 TRACE 5580 --- [http-nio-8081-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2022-02-11 00:56:30.476 TRACE 5580 --- [http-nio-8081-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2022-02-11 00:56:30.477 TRACE 5580 --- [http-nio-8081-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.deposit]
2022-02-11 13:38:33.602  INFO 960 --- [main] c.e.bankservice.BankServiceApplication   : Starting BankServiceApplication using Java 11.0.9 on POSI-PC with PID 960 (C:\Users\POSI\Desktop\atm-emulator\bank-service\build\classes\java\main started by POSI in C:\Users\POSI\Desktop\atm-emulator\bank-service)
2022-02-11 13:38:33.606  INFO 960 --- [main] c.e.bankservice.BankServiceApplication   : No active profile set, falling back to default profiles: default
2022-02-11 13:38:34.432  INFO 960 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-02-11 13:38:34.505  INFO 960 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 64 ms. Found 2 JPA repository interfaces.
2022-02-11 13:38:35.352  INFO 960 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-02-11 13:38:35.363  INFO 960 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-02-11 13:38:35.364  INFO 960 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-02-11 13:38:35.488  INFO 960 --- [main] o.a.c.c.C.[.[localhost].[/bank-service]  : Initializing Spring embedded WebApplicationContext
2022-02-11 13:38:35.488  INFO 960 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1813 ms
2022-02-11 13:38:35.716  INFO 960 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-02-11 13:38:35.803  INFO 960 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-02-11 13:38:36.019  INFO 960 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-02-11 13:38:36.203  INFO 960 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-02-11 13:38:36.729  INFO 960 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-02-11 13:38:36.770  INFO 960 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-02-11 13:38:37.974  INFO 960 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-02-11 13:38:37.990  INFO 960 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-02-11 13:38:38.004  INFO 960 --- [main] c.e.b.a.FingerPrintAuthentication        : FingerPrintAuthentication was invoked
2022-02-11 13:38:38.005  INFO 960 --- [main] c.e.b.authentication.PinAuthentication   : PinAuthentication was invoked
2022-02-11 13:38:38.053  WARN 960 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-02-11 13:38:38.565 TRACE 960 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.deposit' with attribute: PROPAGATION_REQUIRES_NEW,ISOLATION_DEFAULT
2022-02-11 13:38:38.579 TRACE 960 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.checkIfUserExists' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 13:38:38.579 TRACE 960 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.withdraw' with attribute: PROPAGATION_REQUIRES_NEW,ISOLATION_DEFAULT
2022-02-11 13:38:38.580 TRACE 960 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.getBalance' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 13:38:38.582 TRACE 960 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.getTransactionDtoList' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 13:38:38.583 TRACE 960 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.auth' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 13:38:38.807  INFO 960 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5d04fbb7, org.springframework.security.web.context.SecurityContextPersistenceFilter@c0521e5, org.springframework.security.web.header.HeaderWriterFilter@5dbc4598, org.springframework.security.web.authentication.logout.LogoutFilter@4a1934e2, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@750457a5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1d167630, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@42c9b1ee, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@da67c46, org.springframework.security.web.session.SessionManagementFilter@8e77c5b, org.springframework.security.web.access.ExceptionTranslationFilter@1237cade, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3aed692d]
2022-02-11 13:38:39.187  INFO 960 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path '/bank-service'
2022-02-11 13:38:39.196  INFO 960 --- [main] c.e.bankservice.BankServiceApplication   : Started BankServiceApplication in 6.175 seconds (JVM running for 6.676)
2022-02-11 13:41:36.933  INFO 960 --- [http-nio-8081-exec-1] o.a.c.c.C.[.[localhost].[/bank-service]  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-02-11 13:41:36.934  INFO 960 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-02-11 13:41:36.935  INFO 960 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2022-02-11 13:41:37.301  WARN 960 --- [http-nio-8081-exec-1] o.a.c.util.SessionIdGeneratorBase        : Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [164] milliseconds.
2022-02-11 13:41:37.340 TRACE 960 --- [http-nio-8081-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.checkIfUserExists]
2022-02-11 13:41:37.350 TRACE 960 --- [http-nio-8081-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByCardNumber]: This method is not transactional.
2022-02-11 13:41:37.464 TRACE 960 --- [http-nio-8081-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.checkIfUserExists]
2022-02-11 13:41:58.223 TRACE 960 --- [http-nio-8081-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.auth]
2022-02-11 13:41:58.226 TRACE 960 --- [http-nio-8081-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2022-02-11 13:41:58.240 TRACE 960 --- [http-nio-8081-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2022-02-11 13:41:58.241 TRACE 960 --- [http-nio-8081-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.auth]
2022-02-11 13:47:07.078  INFO 12860 --- [main] c.e.bankservice.BankServiceApplication   : Starting BankServiceApplication using Java 11.0.9 on POSI-PC with PID 12860 (C:\Users\POSI\Desktop\atm-emulator\bank-service\build\classes\java\main started by POSI in C:\Users\POSI\Desktop\atm-emulator\bank-service)
2022-02-11 13:47:07.080  INFO 12860 --- [main] c.e.bankservice.BankServiceApplication   : No active profile set, falling back to default profiles: default
2022-02-11 13:47:07.637  INFO 12860 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-02-11 13:47:07.689  INFO 12860 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 46 ms. Found 2 JPA repository interfaces.
2022-02-11 13:47:08.328  INFO 12860 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-02-11 13:47:08.338  INFO 12860 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-02-11 13:47:08.338  INFO 12860 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-02-11 13:47:08.415  INFO 12860 --- [main] o.a.c.c.C.[.[localhost].[/bank-service]  : Initializing Spring embedded WebApplicationContext
2022-02-11 13:47:08.415  INFO 12860 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1297 ms
2022-02-11 13:47:08.571  INFO 12860 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-02-11 13:47:08.607  INFO 12860 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-02-11 13:47:08.737  INFO 12860 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-02-11 13:47:08.825  INFO 12860 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-02-11 13:47:09.097  INFO 12860 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-02-11 13:47:09.114  INFO 12860 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-02-11 13:47:09.643  INFO 12860 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-02-11 13:47:09.652  INFO 12860 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-02-11 13:47:09.659  INFO 12860 --- [main] c.e.b.a.FingerPrintAuthentication        : FingerPrintAuthentication was invoked
2022-02-11 13:47:09.659  INFO 12860 --- [main] c.e.b.authentication.PinAuthentication   : PinAuthentication was invoked
2022-02-11 13:47:09.690  WARN 12860 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-02-11 13:47:09.946 TRACE 12860 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.auth' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 13:47:09.953 TRACE 12860 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.withdraw' with attribute: PROPAGATION_REQUIRES_NEW,ISOLATION_DEFAULT
2022-02-11 13:47:09.953 TRACE 12860 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.checkIfUserExists' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 13:47:09.954 TRACE 12860 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.deposit' with attribute: PROPAGATION_REQUIRES_NEW,ISOLATION_DEFAULT
2022-02-11 13:47:09.954 TRACE 12860 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.getBalance' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 13:47:09.954 TRACE 12860 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.getTransactionDtoList' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 13:47:10.081  INFO 12860 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5c7e55a4, org.springframework.security.web.context.SecurityContextPersistenceFilter@1d167630, org.springframework.security.web.header.HeaderWriterFilter@38a27ace, org.springframework.security.web.authentication.logout.LogoutFilter@68a94e58, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@65c689e7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1eee9b78, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3fad8636, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7ae6927, org.springframework.security.web.session.SessionManagementFilter@c0521e5, org.springframework.security.web.access.ExceptionTranslationFilter@4509b7, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@21579b35]
2022-02-11 13:47:10.342  INFO 12860 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path '/bank-service'
2022-02-11 13:47:10.350  INFO 12860 --- [main] c.e.bankservice.BankServiceApplication   : Started BankServiceApplication in 3.66 seconds (JVM running for 4.04)
2022-02-11 13:47:17.865  INFO 12860 --- [http-nio-8081-exec-1] o.a.c.c.C.[.[localhost].[/bank-service]  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-02-11 13:47:17.866  INFO 12860 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-02-11 13:47:17.866  INFO 12860 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2022-02-11 13:47:18.272  WARN 12860 --- [http-nio-8081-exec-1] o.a.c.util.SessionIdGeneratorBase        : Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [190] milliseconds.
2022-02-11 13:47:18.308 TRACE 12860 --- [http-nio-8081-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.checkIfUserExists]
2022-02-11 13:47:18.317 TRACE 12860 --- [http-nio-8081-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByCardNumber]: This method is not transactional.
2022-02-11 13:47:18.417 TRACE 12860 --- [http-nio-8081-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.checkIfUserExists]
2022-02-11 13:47:24.420 TRACE 12860 --- [http-nio-8081-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.auth]
2022-02-11 13:47:24.424 TRACE 12860 --- [http-nio-8081-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2022-02-11 13:47:24.438 TRACE 12860 --- [http-nio-8081-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2022-02-11 13:47:24.439 TRACE 12860 --- [http-nio-8081-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.auth]
2022-02-11 13:52:36.040  INFO 11092 --- [main] c.e.bankservice.BankServiceApplication   : Starting BankServiceApplication using Java 11.0.9 on POSI-PC with PID 11092 (C:\Users\POSI\Desktop\atm-emulator\bank-service\build\classes\java\main started by POSI in C:\Users\POSI\Desktop\atm-emulator\bank-service)
2022-02-11 13:52:36.042  INFO 11092 --- [main] c.e.bankservice.BankServiceApplication   : No active profile set, falling back to default profiles: default
2022-02-11 13:52:36.599  INFO 11092 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-02-11 13:52:36.651  INFO 11092 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45 ms. Found 2 JPA repository interfaces.
2022-02-11 13:52:37.273  INFO 11092 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-02-11 13:52:37.284  INFO 11092 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-02-11 13:52:37.284  INFO 11092 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-02-11 13:52:37.378  INFO 11092 --- [main] o.a.c.c.C.[.[localhost].[/bank-service]  : Initializing Spring embedded WebApplicationContext
2022-02-11 13:52:37.378  INFO 11092 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1299 ms
2022-02-11 13:52:37.550  INFO 11092 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-02-11 13:52:37.587  INFO 11092 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-02-11 13:52:37.721  INFO 11092 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-02-11 13:52:37.803  INFO 11092 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-02-11 13:52:38.056  INFO 11092 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-02-11 13:52:38.074  INFO 11092 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-02-11 13:52:38.594  INFO 11092 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-02-11 13:52:38.603  INFO 11092 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-02-11 13:52:38.640  WARN 11092 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-02-11 13:52:38.898 TRACE 11092 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.getTransactionDtoList' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 13:52:38.907 TRACE 11092 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.checkIfUserExists' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 13:52:38.908 TRACE 11092 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.deposit' with attribute: PROPAGATION_REQUIRES_NEW,ISOLATION_DEFAULT
2022-02-11 13:52:38.908 TRACE 11092 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.withdraw' with attribute: PROPAGATION_REQUIRES_NEW,ISOLATION_DEFAULT
2022-02-11 13:52:38.908 TRACE 11092 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.getBalance' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 13:52:38.909 TRACE 11092 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.auth' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 13:52:39.025  INFO 11092 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@66a99584, org.springframework.security.web.context.SecurityContextPersistenceFilter@1002d1c8, org.springframework.security.web.header.HeaderWriterFilter@12a9e864, org.springframework.security.web.authentication.logout.LogoutFilter@79636080, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5870fc05, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@41289e88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4452e13c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3945886e, org.springframework.security.web.session.SessionManagementFilter@71f10042, org.springframework.security.web.access.ExceptionTranslationFilter@19e5e110, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@47666b39]
2022-02-11 13:52:39.302  INFO 11092 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path '/bank-service'
2022-02-11 13:52:39.310  INFO 11092 --- [main] c.e.bankservice.BankServiceApplication   : Started BankServiceApplication in 3.645 seconds (JVM running for 4.011)
2022-02-11 13:53:25.507  INFO 11092 --- [http-nio-8081-exec-1] o.a.c.c.C.[.[localhost].[/bank-service]  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-02-11 13:53:25.508  INFO 11092 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-02-11 13:53:25.509  INFO 11092 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2022-02-11 13:53:25.898  WARN 11092 --- [http-nio-8081-exec-1] o.a.c.util.SessionIdGeneratorBase        : Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [164] milliseconds.
2022-02-11 13:53:25.936 TRACE 11092 --- [http-nio-8081-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.checkIfUserExists]
2022-02-11 13:53:25.947 TRACE 11092 --- [http-nio-8081-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByCardNumber]: This method is not transactional.
2022-02-11 13:53:26.049 TRACE 11092 --- [http-nio-8081-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.checkIfUserExists]
2022-02-11 13:53:33.479 TRACE 11092 --- [http-nio-8081-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.auth]
2022-02-11 13:53:33.482 TRACE 11092 --- [http-nio-8081-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2022-02-11 13:53:33.494 TRACE 11092 --- [http-nio-8081-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2022-02-11 13:53:33.494  INFO 11092 --- [http-nio-8081-exec-2] c.e.b.a.AuthorizationFactory             : Authorization method: com.emulator.bankservice.authorization.PinAuthorization@6614289a
2022-02-11 13:53:33.495 TRACE 11092 --- [http-nio-8081-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.auth]
2022-02-11 13:53:50.802 TRACE 11092 --- [http-nio-8081-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.auth]
2022-02-11 13:53:50.802 TRACE 11092 --- [http-nio-8081-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2022-02-11 13:53:50.803 TRACE 11092 --- [http-nio-8081-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2022-02-11 13:53:50.803  INFO 11092 --- [http-nio-8081-exec-3] c.e.b.a.AuthorizationFactory             : Authorization method: com.emulator.bankservice.authorization.FingerPrintAuthorization@61d42275
2022-02-11 13:53:50.803 TRACE 11092 --- [http-nio-8081-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.auth]
2022-02-11 14:00:38.728  INFO 4676 --- [main] c.e.bankservice.BankServiceApplication   : Starting BankServiceApplication using Java 11.0.9 on POSI-PC with PID 4676 (C:\Users\POSI\Desktop\atm-emulator\bank-service\build\classes\java\main started by POSI in C:\Users\POSI\Desktop\atm-emulator\bank-service)
2022-02-11 14:00:38.730  INFO 4676 --- [main] c.e.bankservice.BankServiceApplication   : No active profile set, falling back to default profiles: default
2022-02-11 14:00:39.299  INFO 4676 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-02-11 14:00:39.353  INFO 4676 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47 ms. Found 2 JPA repository interfaces.
2022-02-11 14:00:39.974  INFO 4676 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-02-11 14:00:39.986  INFO 4676 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-02-11 14:00:39.986  INFO 4676 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-02-11 14:00:40.063  INFO 4676 --- [main] o.a.c.c.C.[.[localhost].[/bank-service]  : Initializing Spring embedded WebApplicationContext
2022-02-11 14:00:40.064  INFO 4676 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1295 ms
2022-02-11 14:00:40.223  INFO 4676 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-02-11 14:00:40.261  INFO 4676 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-02-11 14:00:40.397  INFO 4676 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-02-11 14:00:40.477  INFO 4676 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-02-11 14:00:40.769  INFO 4676 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-02-11 14:00:40.787  INFO 4676 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-02-11 14:00:41.317  INFO 4676 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-02-11 14:00:41.325  INFO 4676 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-02-11 14:00:41.362  WARN 4676 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-02-11 14:00:41.616  INFO 4676 --- [main] c.e.b.service.impl.BankServiceImpl       : hhahaha service
2022-02-11 14:00:41.617 TRACE 4676 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.withdraw' with attribute: PROPAGATION_REQUIRES_NEW,ISOLATION_DEFAULT
2022-02-11 14:00:41.624 TRACE 4676 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.deposit' with attribute: PROPAGATION_REQUIRES_NEW,ISOLATION_DEFAULT
2022-02-11 14:00:41.624 TRACE 4676 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.getBalance' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 14:00:41.625 TRACE 4676 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.checkIfUserExists' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 14:00:41.625 TRACE 4676 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.getTransactionDtoList' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 14:00:41.625 TRACE 4676 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.auth' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 14:00:41.736  INFO 4676 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@da67c46, org.springframework.security.web.context.SecurityContextPersistenceFilter@2e20c20b, org.springframework.security.web.header.HeaderWriterFilter@1002d1c8, org.springframework.security.web.authentication.logout.LogoutFilter@6963b0bd, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6c4786af, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3bc18fec, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@217c6a1e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5c7e55a4, org.springframework.security.web.session.SessionManagementFilter@776a3365, org.springframework.security.web.access.ExceptionTranslationFilter@70d7a49b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4eec5fa6]
2022-02-11 14:00:42.016  INFO 4676 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path '/bank-service'
2022-02-11 14:00:42.024  INFO 4676 --- [main] c.e.bankservice.BankServiceApplication   : Started BankServiceApplication in 3.684 seconds (JVM running for 4.049)
2022-02-11 14:00:46.376  INFO 4676 --- [http-nio-8081-exec-1] o.a.c.c.C.[.[localhost].[/bank-service]  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-02-11 14:00:46.377  INFO 4676 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-02-11 14:00:46.378  INFO 4676 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2022-02-11 14:00:46.776  WARN 4676 --- [http-nio-8081-exec-1] o.a.c.util.SessionIdGeneratorBase        : Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [187] milliseconds.
2022-02-11 14:00:46.812 TRACE 4676 --- [http-nio-8081-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.checkIfUserExists]
2022-02-11 14:00:46.822 TRACE 4676 --- [http-nio-8081-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByCardNumber]: This method is not transactional.
2022-02-11 14:00:46.919 TRACE 4676 --- [http-nio-8081-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.checkIfUserExists]
2022-02-11 14:08:20.635  INFO 396 --- [main] c.e.bankservice.BankServiceApplication   : Starting BankServiceApplication using Java 11.0.9 on POSI-PC with PID 396 (C:\Users\POSI\Desktop\atm-emulator\bank-service\build\classes\java\main started by POSI in C:\Users\POSI\Desktop\atm-emulator\bank-service)
2022-02-11 14:08:20.637  INFO 396 --- [main] c.e.bankservice.BankServiceApplication   : No active profile set, falling back to default profiles: default
2022-02-11 14:08:21.175  INFO 396 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-02-11 14:08:21.225  INFO 396 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45 ms. Found 2 JPA repository interfaces.
2022-02-11 14:08:21.791  INFO 396 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-02-11 14:08:21.800  INFO 396 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-02-11 14:08:21.800  INFO 396 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-02-11 14:08:21.874  INFO 396 --- [main] o.a.c.c.C.[.[localhost].[/bank-service]  : Initializing Spring embedded WebApplicationContext
2022-02-11 14:08:21.874  INFO 396 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1201 ms
2022-02-11 14:08:22.013  INFO 396 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-02-11 14:08:22.053  INFO 396 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-02-11 14:08:22.198  INFO 396 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-02-11 14:08:22.279  INFO 396 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-02-11 14:08:22.514  INFO 396 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-02-11 14:08:22.531  INFO 396 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-02-11 14:08:23.038  INFO 396 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-02-11 14:08:23.046  INFO 396 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-02-11 14:08:23.081  WARN 396 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-02-11 14:08:23.323 TRACE 396 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.getTransactionDtoList' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 14:08:23.331 TRACE 396 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.withdraw' with attribute: PROPAGATION_REQUIRES_NEW,ISOLATION_DEFAULT
2022-02-11 14:08:23.332 TRACE 396 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.deposit' with attribute: PROPAGATION_REQUIRES_NEW,ISOLATION_DEFAULT
2022-02-11 14:08:23.332 TRACE 396 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.getBalance' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 14:08:23.332 TRACE 396 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.checkIfUserExists' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 14:08:23.333 TRACE 396 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.auth' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 14:08:23.439  INFO 396 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1dac0784, org.springframework.security.web.context.SecurityContextPersistenceFilter@53d2f0ec, org.springframework.security.web.header.HeaderWriterFilter@6cf3b3d7, org.springframework.security.web.authentication.logout.LogoutFilter@75345e47, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3966c679, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@14d36bb2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@776a3365, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3703a400, org.springframework.security.web.session.SessionManagementFilter@7e8783b0, org.springframework.security.web.access.ExceptionTranslationFilter@462f8fe9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@dd77e0d]
2022-02-11 14:08:23.684  INFO 396 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path '/bank-service'
2022-02-11 14:08:23.691  INFO 396 --- [main] c.e.bankservice.BankServiceApplication   : Started BankServiceApplication in 3.42 seconds (JVM running for 3.779)
2022-02-11 14:08:27.586  INFO 396 --- [http-nio-8081-exec-1] o.a.c.c.C.[.[localhost].[/bank-service]  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-02-11 14:08:27.587  INFO 396 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-02-11 14:08:27.588  INFO 396 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2022-02-11 14:08:27.986  WARN 396 --- [http-nio-8081-exec-1] o.a.c.util.SessionIdGeneratorBase        : Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [187] milliseconds.
2022-02-11 14:08:28.023 TRACE 396 --- [http-nio-8081-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.checkIfUserExists]
2022-02-11 14:08:28.032 TRACE 396 --- [http-nio-8081-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByCardNumber]: This method is not transactional.
2022-02-11 14:08:28.124 TRACE 396 --- [http-nio-8081-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.checkIfUserExists]
2022-02-11 14:10:31.667  INFO 13556 --- [main] c.e.bankservice.BankServiceApplication   : Starting BankServiceApplication using Java 11.0.9 on POSI-PC with PID 13556 (C:\Users\POSI\Desktop\atm-emulator\bank-service\build\classes\java\main started by POSI in C:\Users\POSI\Desktop\atm-emulator\bank-service)
2022-02-11 14:10:31.670  INFO 13556 --- [main] c.e.bankservice.BankServiceApplication   : No active profile set, falling back to default profiles: default
2022-02-11 14:10:32.192  INFO 13556 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-02-11 14:10:32.241  INFO 13556 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 43 ms. Found 2 JPA repository interfaces.
2022-02-11 14:10:32.461  INFO 13556 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#6c518474' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-11 14:10:32.463  INFO 13556 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#6c518474' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-11 14:10:32.464  INFO 13556 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#12968227' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-11 14:10:32.465  INFO 13556 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#7fcf294e' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-11 14:10:32.466  INFO 13556 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#7fcf294e' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-11 14:10:32.469  INFO 13556 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.sql.init.DataSourceInitializationConfiguration' of type [org.springframework.boot.autoconfigure.sql.init.DataSourceInitializationConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-11 14:10:32.470  INFO 13556 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari' of type [org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-11 14:10:32.487  INFO 13556 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties' of type [org.springframework.boot.autoconfigure.jdbc.DataSourceProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-11 14:10:32.502  INFO 13556 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'dataSource' of type [com.zaxxer.hikari.HikariDataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-11 14:10:32.506  INFO 13556 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.sql.init-org.springframework.boot.autoconfigure.sql.init.SqlInitializationProperties' of type [org.springframework.boot.autoconfigure.sql.init.SqlInitializationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-11 14:10:32.509  INFO 13556 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'dataSourceScriptDatabaseInitializer' of type [org.springframework.boot.autoconfigure.sql.init.SqlDataSourceScriptDatabaseInitializer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-11 14:10:32.513  INFO 13556 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.jpa-org.springframework.boot.autoconfigure.orm.jpa.JpaProperties' of type [org.springframework.boot.autoconfigure.orm.jpa.JpaProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-11 14:10:32.515  INFO 13556 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.jpa.hibernate-org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties' of type [org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-11 14:10:32.517  INFO 13556 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jdbc.metadata.DataSourcePoolMetadataProvidersConfiguration$HikariPoolDataSourceMetadataProviderConfiguration' of type [org.springframework.boot.autoconfigure.jdbc.metadata.DataSourcePoolMetadataProvidersConfiguration$HikariPoolDataSourceMetadataProviderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-11 14:10:32.517  INFO 13556 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'hikariPoolDataSourceMetadataProvider' of type [org.springframework.boot.autoconfigure.jdbc.metadata.DataSourcePoolMetadataProvidersConfiguration$HikariPoolDataSourceMetadataProviderConfiguration$$Lambda$484/0x00000008003afc40] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-11 14:10:32.520  INFO 13556 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration' of type [org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-11 14:10:32.553  INFO 13556 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jpaVendorAdapter' of type [org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-11 14:10:32.555  INFO 13556 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'entityManagerFactoryBuilder' of type [org.springframework.boot.orm.jpa.EntityManagerFactoryBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-11 14:10:32.582  INFO 13556 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-02-11 14:10:32.616  INFO 13556 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-02-11 14:10:32.723  INFO 13556 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-02-11 14:10:32.984  INFO 13556 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-02-11 14:10:33.253  INFO 13556 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-02-11 14:10:33.272  INFO 13556 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-02-11 14:10:33.405  INFO 13556 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.hibernate.id.UUIDGenerator' of type [org.hibernate.id.UUIDGenerator] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-11 14:10:33.445  INFO 13556 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#6befbb12' of type [org.springframework.beans.factory.config.ObjectFactoryCreatingFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-11 14:10:33.445  INFO 13556 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#6befbb12' of type [org.springframework.beans.factory.config.ObjectFactoryCreatingFactoryBean$TargetBeanObjectFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-11 14:10:33.808  INFO 13556 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-02-11 14:10:33.815  INFO 13556 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-02-11 14:10:33.818  INFO 13556 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'entityManagerFactory' of type [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-11 14:10:33.818  INFO 13556 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'entityManagerFactory' of type [com.sun.proxy.$Proxy107] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-11 14:10:33.838  INFO 13556 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#2184b4f4' of type [com.sun.proxy.$Proxy108] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-11 14:10:33.849  INFO 13556 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jpaMappingContext' of type [org.springframework.data.jpa.repository.config.JpaMetamodelMappingContextFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-11 14:10:33.849  INFO 13556 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jpaMappingContext' of type [org.springframework.data.jpa.mapping.JpaMetamodelMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-11 14:10:34.031  INFO 13556 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'userEntityRepo' of type [org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-11 14:10:34.032  INFO 13556 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'userEntityRepo' of type [com.sun.proxy.$Proxy112] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-11 14:10:34.034  INFO 13556 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'cashConverterServiceImpl' of type [com.emulator.bankservice.service.impl.CashConverterServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-11 14:10:34.037  INFO 13556 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#67784537' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-11 14:10:34.037  INFO 13556 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#67784537' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-11 14:10:34.037  INFO 13556 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#5bccaedb' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-11 14:10:34.038  INFO 13556 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#49d979c4' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-11 14:10:34.038  INFO 13556 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#49d979c4' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-11 14:10:34.039  INFO 13556 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#249a45fd' of type [com.sun.proxy.$Proxy108] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-11 14:10:34.070  INFO 13556 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'userTransactionEntityRepo' of type [org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-11 14:10:34.071  INFO 13556 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'userTransactionEntityRepo' of type [com.sun.proxy.$Proxy115] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-11 14:10:34.072  INFO 13556 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'transactionServiceImpl' of type [com.emulator.bankservice.service.impl.TransactionServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-11 14:10:34.075  INFO 13556 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'fingerPrintAuthorization' of type [com.emulator.bankservice.authorization.FingerPrintAuthorization] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-11 14:10:34.075  INFO 13556 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'pinAuthorization' of type [com.emulator.bankservice.authorization.PinAuthorization] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-11 14:10:34.076  INFO 13556 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'authorizationFactory' of type [com.emulator.bankservice.authorization.AuthorizationFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-11 14:10:34.078 TRACE 13556 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.getTransactionDtoList' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 14:10:34.085 TRACE 13556 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.deposit' with attribute: PROPAGATION_REQUIRES_NEW,ISOLATION_DEFAULT
2022-02-11 14:10:34.085 TRACE 13556 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.withdraw' with attribute: PROPAGATION_REQUIRES_NEW,ISOLATION_DEFAULT
2022-02-11 14:10:34.086 TRACE 13556 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.checkIfUserExists' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 14:10:34.086 TRACE 13556 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.getBalance' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 14:10:34.086 TRACE 13556 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.auth' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 14:10:34.114  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.web.servlet.ServletWebServerFactoryConfiguration$EmbeddedTomcat and class EmbeddedTomcat
2022-02-11 14:10:34.140  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.websocket.servlet.WebSocketServletAutoConfiguration$TomcatWebSocketConfiguration and class TomcatWebSocketConfiguration
2022-02-11 14:10:34.141  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name websocketServletWebServerCustomizer and class TomcatWebSocketServletWebServerCustomizer
2022-02-11 14:10:34.142  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.web.servlet.ServletWebServerFactoryAutoConfiguration and class ServletWebServerFactoryAutoConfiguration
2022-02-11 14:10:34.151  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name server-org.springframework.boot.autoconfigure.web.ServerProperties and class ServerProperties
2022-02-11 14:10:34.153  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name servletWebServerFactoryCustomizer and class ServletWebServerFactoryCustomizer
2022-02-11 14:10:34.153  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name tomcatServletWebServerFactoryCustomizer and class TomcatServletWebServerFactoryCustomizer
2022-02-11 14:10:34.155  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.web.embedded.EmbeddedWebServerFactoryCustomizerAutoConfiguration$TomcatWebServerFactoryCustomizerConfiguration and class TomcatWebServerFactoryCustomizerConfiguration
2022-02-11 14:10:34.156  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name tomcatWebServerFactoryCustomizer and class TomcatWebServerFactoryCustomizer
2022-02-11 14:10:34.157  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration and class HttpEncodingAutoConfiguration
2022-02-11 14:10:34.157  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name localeCharsetMappingsCustomizer and class LocaleCharsetMappingsCustomizer
2022-02-11 14:10:34.174  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration and class ErrorMvcAutoConfiguration
2022-02-11 14:10:34.174  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.web.servlet.DispatcherServletAutoConfiguration$DispatcherServletRegistrationConfiguration and class DispatcherServletRegistrationConfiguration
2022-02-11 14:10:34.175  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.web.servlet.DispatcherServletAutoConfiguration$DispatcherServletConfiguration and class DispatcherServletConfiguration
2022-02-11 14:10:34.178  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name spring.mvc-org.springframework.boot.autoconfigure.web.servlet.WebMvcProperties and class WebMvcProperties
2022-02-11 14:10:34.186  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name dispatcherServlet and class DispatcherServlet
2022-02-11 14:10:34.191  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name spring.servlet.multipart-org.springframework.boot.autoconfigure.web.servlet.MultipartProperties and class MultipartProperties
2022-02-11 14:10:34.191  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.web.servlet.MultipartAutoConfiguration and class MultipartAutoConfiguration
2022-02-11 14:10:34.192  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name multipartConfigElement and class MultipartConfigElement
2022-02-11 14:10:34.194  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name dispatcherServletRegistration and class DispatcherServletRegistrationBean
2022-02-11 14:10:34.194  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name errorPageCustomizer and class ErrorPageCustomizer
2022-02-11 14:10:34.196  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name tomcatServletWebServerFactory and class TomcatServletWebServerFactory
2022-02-11 14:10:34.266  INFO 13556 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-02-11 14:10:34.274  INFO 13556 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-02-11 14:10:34.274  INFO 13556 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-02-11 14:10:34.383  INFO 13556 --- [main] o.a.c.c.C.[.[localhost].[/bank-service]  : Initializing Spring embedded WebApplicationContext
2022-02-11 14:10:34.384  INFO 13556 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2679 ms
2022-02-11 14:10:34.386  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.security.servlet.ErrorPageSecurityFilterConfiguration and class ErrorPageSecurityFilterConfiguration
2022-02-11 14:10:34.392  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name errorPageSecurityInterceptor and class FilterRegistrationBean
2022-02-11 14:10:34.393  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration and class SecurityFilterAutoConfiguration
2022-02-11 14:10:34.396  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name spring.security-org.springframework.boot.autoconfigure.security.SecurityProperties and class SecurityProperties
2022-02-11 14:10:34.398  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name securityFilterChainRegistration and class DelegatingFilterProxyRegistrationBean
2022-02-11 14:10:34.403  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name requestContextFilter and class OrderedRequestContextFilter
2022-02-11 14:10:34.405  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration and class WebMvcAutoConfiguration
2022-02-11 14:10:34.408  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name formContentFilter and class OrderedFormContentFilter
2022-02-11 14:10:34.410  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name characterEncodingFilter and class OrderedCharacterEncodingFilter
2022-02-11 14:10:34.440  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name bankServiceApplication and class BankServiceApplication$$EnhancerBySpringCGLIB$$8b0c149d
2022-02-11 14:10:34.448  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration and class ObjectPostProcessorConfiguration
2022-02-11 14:10:34.449  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name objectPostProcessor and class AutowireBeanFactoryObjectPostProcessor
2022-02-11 14:10:34.456  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name enableGlobalAuthenticationAutowiredConfigurer and class EnableGlobalAuthenticationAutowiredConfigurer
2022-02-11 14:10:34.457  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name initializeUserDetailsBeanManagerConfigurer and class InitializeUserDetailsBeanManagerConfigurer
2022-02-11 14:10:34.457  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name initializeAuthenticationProviderBeanManagerConfigurer and class InitializeAuthenticationProviderBeanManagerConfigurer
2022-02-11 14:10:34.458  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration and class AuthenticationConfiguration
2022-02-11 14:10:34.462  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name spring.web-org.springframework.boot.autoconfigure.web.WebProperties and class WebProperties
2022-02-11 14:10:34.473  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration and class WebMvcSecurityConfiguration
2022-02-11 14:10:34.474  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter and class WebMvcAutoConfigurationAdapter
2022-02-11 14:10:34.475  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration and class JpaWebConfiguration
2022-02-11 14:10:34.475  WARN 13556 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-02-11 14:10:34.477  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name openEntityManagerInViewInterceptor and class OpenEntityManagerInViewInterceptor
2022-02-11 14:10:34.477  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name openEntityManagerInViewInterceptorConfigurer and class 
2022-02-11 14:10:34.479  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.data.web.config.SpringDataWebConfiguration and class SpringDataWebConfiguration
2022-02-11 14:10:34.480  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration and class EnableWebMvcConfiguration
2022-02-11 14:10:34.485  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name mvcContentNegotiationManager and class ContentNegotiationManager
2022-02-11 14:10:34.486  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name securityConfig and class SecurityConfig$$EnhancerBySpringCGLIB$$f3d3bff2
2022-02-11 14:10:34.488  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name bankServiceController and class BankServiceController
2022-02-11 14:10:34.491  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name commonExceptionHandler and class CommonExceptionHandler
2022-02-11 14:10:34.492  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration and class SecurityAutoConfiguration
2022-02-11 14:10:34.496  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name authenticationEventPublisher and class DefaultAuthenticationEventPublisher
2022-02-11 14:10:34.500  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name authenticationManagerBuilder and class DefaultPasswordEncoderAuthenticationManagerBuilder
2022-02-11 14:10:34.511  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name autowiredWebSecurityConfigurersIgnoreParents and class AutowiredWebSecurityConfigurersIgnoreParents
2022-02-11 14:10:34.520  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.security.config.annotation.web.builders.WebSecurity@18f27a81 and class WebSecurity
2022-02-11 14:10:34.522  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration and class WebSecurityConfiguration
2022-02-11 14:10:34.523  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name delegatingApplicationListener and class DelegatingApplicationListener
2022-02-11 14:10:34.526  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration and class UserDetailsServiceAutoConfiguration
2022-02-11 14:10:34.529  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name inMemoryUserDetailsManager and class InMemoryUserDetailsManager
2022-02-11 14:10:34.542  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.security.authentication.ProviderManager@2842ef02 and class ProviderManager
2022-02-11 14:10:34.572  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@12a9e864 and class ChangeSessionIdAuthenticationStrategy
2022-02-11 14:10:34.572  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy [delegateStrategies = [org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@12a9e864]] and class CompositeSessionAuthenticationStrategy
2022-02-11 14:10:34.577  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.security.authentication.AnonymousAuthenticationProvider@2e847e71 and class AnonymousAuthenticationProvider
2022-02-11 14:10:34.578  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint@36f40d72 and class DelegatingAuthenticationEntryPoint
2022-02-11 14:10:34.579  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.security.web.authentication.logout.HttpStatusReturningLogoutSuccessHandler@4a1934e2 and class HttpStatusReturningLogoutSuccessHandler
2022-02-11 14:10:34.580  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.security.authentication.ProviderManager@68a94e58 and class ProviderManager
2022-02-11 14:10:34.582  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.security.web.access.ExceptionTranslationFilter@2346f77a and class ExceptionTranslationFilter
2022-02-11 14:10:34.583  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.security.web.header.HeaderWriterFilter@5ff29e8b and class HeaderWriterFilter
2022-02-11 14:10:34.585  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.security.web.session.SessionManagementFilter@364c93e6 and class SessionManagementFilter
2022-02-11 14:10:34.585  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.security.web.context.SecurityContextPersistenceFilter@66a8ff6d and class SecurityContextPersistenceFilter
2022-02-11 14:10:34.586  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.security.web.savedrequest.RequestCacheAwareFilter@48bab2c6 and class RequestCacheAwareFilter
2022-02-11 14:10:34.587  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@21022cbb and class SecurityContextHolderAwareRequestFilter
2022-02-11 14:10:34.587  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.security.web.authentication.logout.LogoutSuccessEventPublishingLogoutHandler@351be56b and class LogoutSuccessEventPublishingLogoutHandler
2022-02-11 14:10:34.589  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.security.web.authentication.logout.LogoutFilter@21579b35 and class LogoutFilter
2022-02-11 14:10:34.591  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.security.web.access.expression.DefaultWebSecurityExpressionHandler@7f5ecada and class DefaultWebSecurityExpressionHandler
2022-02-11 14:10:34.595  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name AffirmativeBased [DecisionVoters=[org.springframework.security.web.access.expression.WebExpressionVoter@4d3990a5], AllowIfAllAbstainDecisions=false] and class AffirmativeBased
2022-02-11 14:10:34.597  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6a7fc4c1 and class FilterSecurityInterceptor
2022-02-11 14:10:34.598  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.security.web.authentication.www.BasicAuthenticationFilter@29431f61 and class BasicAuthenticationFilter
2022-02-11 14:10:34.599  INFO 13556 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@534d0cfa, org.springframework.security.web.context.SecurityContextPersistenceFilter@66a8ff6d, org.springframework.security.web.header.HeaderWriterFilter@5ff29e8b, org.springframework.security.web.authentication.logout.LogoutFilter@21579b35, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@29431f61, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@48bab2c6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@21022cbb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1f1ffc18, org.springframework.security.web.session.SessionManagementFilter@364c93e6, org.springframework.security.web.access.ExceptionTranslationFilter@2346f77a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6a7fc4c1]
2022-02-11 14:10:34.603  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name springSecurityFilterChain and class FilterChainProxy
2022-02-11 14:10:34.603  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name webSecurityExpressionHandler and class DefaultWebSecurityExpressionHandler
2022-02-11 14:10:34.604  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name privilegeEvaluator and class DefaultWebInvocationPrivilegeEvaluator
2022-02-11 14:10:34.605  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name requestDataValueProcessor and class CsrfRequestDataValueProcessor
2022-02-11 14:10:34.606  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration and class HttpSecurityConfiguration
2022-02-11 14:10:34.614  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name jpaAuditingHandler and class AuditingHandler
2022-02-11 14:10:34.614  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name (inner bean)#6befbb12 and class ObjectFactoryCreatingFactoryBean
2022-02-11 14:10:34.614  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name (inner bean)#6befbb12 and class TargetBeanObjectFactory
2022-02-11 14:10:34.615  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.data.jpa.domain.support.AuditingEntityListener and class AuditingEntityListener
2022-02-11 14:10:34.615  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name (inner bean)#6befbb12#1 and class ObjectFactoryCreatingFactoryBean
2022-02-11 14:10:34.615  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name (inner bean)#6befbb12#1 and class TargetBeanObjectFactory
2022-02-11 14:10:34.615  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.data.jpa.domain.support.AuditingEntityListener and class AuditingEntityListener
2022-02-11 14:10:34.615  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.context.PropertyPlaceholderAutoConfiguration and class PropertyPlaceholderAutoConfiguration
2022-02-11 14:10:34.616  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.websocket.servlet.WebSocketServletAutoConfiguration and class WebSocketServletAutoConfiguration
2022-02-11 14:10:34.616  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.context.properties.EnableConfigurationPropertiesRegistrar.methodValidationExcludeFilter and class MethodValidationExcludeFilter$$Lambda$1028/0x00000008007da040
2022-02-11 14:10:34.617  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.web.servlet.DispatcherServletAutoConfiguration and class DispatcherServletAutoConfiguration
2022-02-11 14:10:34.617  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration and class TaskExecutionAutoConfiguration
2022-02-11 14:10:34.619  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name spring.task.execution-org.springframework.boot.autoconfigure.task.TaskExecutionProperties and class TaskExecutionProperties
2022-02-11 14:10:34.620  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name taskExecutorBuilder and class TaskExecutorBuilder
2022-02-11 14:10:34.621  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration$WhitelabelErrorViewConfiguration and class WhitelabelErrorViewConfiguration
2022-02-11 14:10:34.621  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name error and class StaticView
2022-02-11 14:10:34.622  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name beanNameViewResolver and class BeanNameViewResolver
2022-02-11 14:10:34.623  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration$DefaultErrorViewResolverConfiguration and class DefaultErrorViewResolverConfiguration
2022-02-11 14:10:34.623  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name conventionErrorViewResolver and class DefaultErrorViewResolver
2022-02-11 14:10:34.625  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name errorAttributes and class DefaultErrorAttributes
2022-02-11 14:10:34.626  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name basicErrorController and class BasicErrorController
2022-02-11 14:10:34.633  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name mvcConversionService and class WebConversionService
2022-02-11 14:10:34.635  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name mvcValidator and class NoOpValidator
2022-02-11 14:10:34.641  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration and class HttpMessageConvertersAutoConfiguration
2022-02-11 14:10:34.644  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration and class StringHttpMessageConverterConfiguration
2022-02-11 14:10:34.647  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name stringHttpMessageConverter and class StringHttpMessageConverter
2022-02-11 14:10:34.648  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration and class MappingJackson2HttpMessageConverterConfiguration
2022-02-11 14:10:34.649  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration and class JacksonObjectMapperConfiguration
2022-02-11 14:10:34.649  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration and class JacksonObjectMapperBuilderConfiguration
2022-02-11 14:10:34.650  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration and class Jackson2ObjectMapperBuilderCustomizerConfiguration
2022-02-11 14:10:34.652  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties and class JacksonProperties
2022-02-11 14:10:34.653  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name standardJacksonObjectMapperBuilderCustomizer and class StandardJackson2ObjectMapperBuilderCustomizer
2022-02-11 14:10:34.654  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration and class ParameterNamesModuleConfiguration
2022-02-11 14:10:34.657  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name parameterNamesModule and class ParameterNamesModule
2022-02-11 14:10:34.657  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration and class JacksonAutoConfiguration
2022-02-11 14:10:34.659  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name jsonComponentModule and class JsonComponentModule
2022-02-11 14:10:34.660  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.data.web.config.SpringDataJacksonConfiguration and class SpringDataJacksonConfiguration
2022-02-11 14:10:34.662  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name jacksonGeoModule and class GeoModule
2022-02-11 14:10:34.664  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name jacksonObjectMapperBuilder and class Jackson2ObjectMapperBuilder
2022-02-11 14:10:34.682  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name jacksonObjectMapper and class ObjectMapper
2022-02-11 14:10:34.683  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name mappingJackson2HttpMessageConverter and class MappingJackson2HttpMessageConverter
2022-02-11 14:10:34.688  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name messageConverters and class HttpMessageConverters
2022-02-11 14:10:34.694  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name spring.data.web-org.springframework.boot.autoconfigure.data.web.SpringDataWebProperties and class SpringDataWebProperties
2022-02-11 14:10:34.694  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration and class SpringDataWebAutoConfiguration
2022-02-11 14:10:34.695  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name sortCustomizer and class SpringDataWebAutoConfiguration$$Lambda$1042/0x00000008007ffc40
2022-02-11 14:10:34.696  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name sortResolver and class SortHandlerMethodArgumentResolver
2022-02-11 14:10:34.697  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name pageableCustomizer and class SpringDataWebAutoConfiguration$$Lambda$1044/0x00000008007ff440
2022-02-11 14:10:34.698  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name pageableResolver and class PageableHandlerMethodArgumentResolver
2022-02-11 14:10:34.706  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name applicationTaskExecutor and class ThreadPoolTaskExecutor
2022-02-11 14:10:34.769  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name requestMappingHandlerAdapter and class RequestMappingHandlerAdapter
2022-02-11 14:10:34.773  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name mvcResourceUrlProvider and class ResourceUrlProvider
2022-02-11 14:10:34.884  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name requestMappingHandlerMapping and class RequestMappingHandlerMapping
2022-02-11 14:10:34.893  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name welcomePageHandlerMapping and class WelcomePageHandlerMapping
2022-02-11 14:10:34.895  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name localeResolver and class AcceptHeaderLocaleResolver
2022-02-11 14:10:34.897  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name themeResolver and class FixedThemeResolver
2022-02-11 14:10:34.899  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name flashMapManager and class SessionFlashMapManager
2022-02-11 14:10:34.900  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name mvcPatternParser and class PathPatternParser
2022-02-11 14:10:34.901  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name mvcUrlPathHelper and class UrlPathHelper
2022-02-11 14:10:34.902  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name mvcPathMatcher and class AntPathMatcher
2022-02-11 14:10:34.903  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name viewControllerHandlerMapping and class NullBean
2022-02-11 14:10:34.908  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name beanNameHandlerMapping and class BeanNameUrlHandlerMapping
2022-02-11 14:10:34.913  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name routerFunctionMapping and class RouterFunctionMapping
2022-02-11 14:10:34.923  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name resourceHandlerMapping and class SimpleUrlHandlerMapping
2022-02-11 14:10:34.923  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name defaultServletHandlerMapping and class NullBean
2022-02-11 14:10:34.924  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name handlerFunctionAdapter and class HandlerFunctionAdapter
2022-02-11 14:10:34.927  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name mvcUriComponentsContributor and class CompositeUriComponentsContributor
2022-02-11 14:10:34.928  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name httpRequestHandlerAdapter and class HttpRequestHandlerAdapter
2022-02-11 14:10:34.929  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name simpleControllerHandlerAdapter and class SimpleControllerHandlerAdapter
2022-02-11 14:10:34.937  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name handlerExceptionResolver and class HandlerExceptionResolverComposite
2022-02-11 14:10:34.948  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name mvcViewResolver and class ViewResolverComposite
2022-02-11 14:10:34.950  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name viewNameTranslator and class DefaultRequestToViewNameTranslator
2022-02-11 14:10:34.958  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name defaultViewResolver and class InternalResourceViewResolver
2022-02-11 14:10:34.960  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name viewResolver and class ContentNegotiatingViewResolver
2022-02-11 14:10:34.960  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.aop.AopAutoConfiguration$AspectJAutoProxyingConfiguration$CglibAutoProxyConfiguration and class CglibAutoProxyConfiguration
2022-02-11 14:10:34.961  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.aop.AopAutoConfiguration$AspectJAutoProxyingConfiguration and class AspectJAutoProxyingConfiguration
2022-02-11 14:10:34.961  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.aop.AopAutoConfiguration and class AopAutoConfiguration
2022-02-11 14:10:34.961  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.availability.ApplicationAvailabilityAutoConfiguration and class ApplicationAvailabilityAutoConfiguration
2022-02-11 14:10:34.963  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name applicationAvailability and class ApplicationAvailabilityBean
2022-02-11 14:10:34.963  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.transaction.jta.JtaAutoConfiguration and class JtaAutoConfiguration
2022-02-11 14:10:34.964  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.jdbc.DataSourceJmxConfiguration$Hikari and class Hikari
2022-02-11 14:10:34.964  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.jdbc.DataSourceJmxConfiguration and class DataSourceJmxConfiguration
2022-02-11 14:10:34.964  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$PooledDataSourceConfiguration and class PooledDataSourceConfiguration
2022-02-11 14:10:34.965  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.jdbc.metadata.DataSourcePoolMetadataProvidersConfiguration and class DataSourcePoolMetadataProvidersConfiguration
2022-02-11 14:10:34.965  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration and class DataSourceAutoConfiguration
2022-02-11 14:10:34.967  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration and class TransactionAutoConfiguration
2022-02-11 14:10:34.994  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name spring.transaction-org.springframework.boot.autoconfigure.transaction.TransactionProperties and class TransactionProperties
2022-02-11 14:10:34.999  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name platformTransactionManagerCustomizers and class TransactionManagerCustomizers
2022-02-11 14:10:35.004  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name transactionManager and class JpaTransactionManager
2022-02-11 14:10:35.005  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration and class HibernateJpaAutoConfiguration
2022-02-11 14:10:35.005  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.context.ConfigurationPropertiesAutoConfiguration and class ConfigurationPropertiesAutoConfiguration
2022-02-11 14:10:35.005  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.context.LifecycleAutoConfiguration and class LifecycleAutoConfiguration
2022-02-11 14:10:35.007  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name spring.lifecycle-org.springframework.boot.autoconfigure.context.LifecycleProperties and class LifecycleProperties
2022-02-11 14:10:35.009  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name lifecycleProcessor and class DefaultLifecycleProcessor
2022-02-11 14:10:35.009  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.dao.PersistenceExceptionTranslationAutoConfiguration and class PersistenceExceptionTranslationAutoConfiguration
2022-02-11 14:10:35.010  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration and class JpaRepositoriesAutoConfiguration
2022-02-11 14:10:35.010  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.data.jpa.util.JpaMetamodelCacheCleanup and class JpaMetamodelCacheCleanup
2022-02-11 14:10:35.011  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.data.jpa.repository.support.JpaEvaluationContextExtension and class JpaEvaluationContextExtension
2022-02-11 14:10:35.012  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration and class JacksonHttpMessageConvertersConfiguration
2022-02-11 14:10:35.012  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.data.web.config.ProjectingArgumentResolverRegistrar and class ProjectingArgumentResolverRegistrar
2022-02-11 14:10:35.016  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name spring.info-org.springframework.boot.autoconfigure.info.ProjectInfoProperties and class ProjectInfoProperties
2022-02-11 14:10:35.016  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.info.ProjectInfoAutoConfiguration and class ProjectInfoAutoConfiguration
2022-02-11 14:10:35.017  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.jdbc.JdbcTemplateConfiguration and class JdbcTemplateConfiguration
2022-02-11 14:10:35.018  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name spring.jdbc-org.springframework.boot.autoconfigure.jdbc.JdbcProperties and class JdbcProperties
2022-02-11 14:10:35.027  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name jdbcTemplate and class JdbcTemplate
2022-02-11 14:10:35.028  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.jdbc.NamedParameterJdbcTemplateConfiguration and class NamedParameterJdbcTemplateConfiguration
2022-02-11 14:10:35.032  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name namedParameterJdbcTemplate and class NamedParameterJdbcTemplate
2022-02-11 14:10:35.032  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration and class JdbcTemplateAutoConfiguration
2022-02-11 14:10:35.033  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.sql.init.SqlInitializationAutoConfiguration and class SqlInitializationAutoConfiguration
2022-02-11 14:10:35.034  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.task.TaskSchedulingAutoConfiguration and class TaskSchedulingAutoConfiguration
2022-02-11 14:10:35.035  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name scheduledBeanLazyInitializationExcludeFilter and class ScheduledBeanLazyInitializationExcludeFilter
2022-02-11 14:10:35.037  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name spring.task.scheduling-org.springframework.boot.autoconfigure.task.TaskSchedulingProperties and class TaskSchedulingProperties
2022-02-11 14:10:35.039  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name taskSchedulerBuilder and class TaskSchedulerBuilder
2022-02-11 14:10:35.040  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration$JdbcTransactionManagerConfiguration and class JdbcTransactionManagerConfiguration
2022-02-11 14:10:35.041  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration and class DataSourceTransactionManagerAutoConfiguration
2022-02-11 14:10:35.041  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration$EnableTransactionManagementConfiguration$CglibAutoProxyConfiguration and class CglibAutoProxyConfiguration
2022-02-11 14:10:35.041  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration$EnableTransactionManagementConfiguration and class EnableTransactionManagementConfiguration
2022-02-11 14:10:35.041  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration$TransactionTemplateConfiguration and class TransactionTemplateConfiguration
2022-02-11 14:10:35.043  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name transactionTemplate and class TransactionTemplate
2022-02-11 14:10:35.043  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.web.client.RestTemplateAutoConfiguration and class RestTemplateAutoConfiguration
2022-02-11 14:10:35.043  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name org.springframework.boot.autoconfigure.web.embedded.EmbeddedWebServerFactoryCustomizerAutoConfiguration and class EmbeddedWebServerFactoryCustomizerAutoConfiguration
2022-02-11 14:10:35.045  INFO 13556 --- [main] c.e.b.service.impl.BankServiceImpl       : Bean instantiated with name multipartResolver and class StandardServletMultipartResolver
2022-02-11 14:10:35.070  INFO 13556 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path '/bank-service'
2022-02-11 14:10:35.079  INFO 13556 --- [main] c.e.bankservice.BankServiceApplication   : Started BankServiceApplication in 3.764 seconds (JVM running for 4.108)
2022-02-11 21:56:42.462  INFO 9356 --- [main] c.e.bankservice.BankServiceApplication   : Starting BankServiceApplication using Java 11.0.9 on POSI-PC with PID 9356 (C:\Users\POSI\Desktop\atm-emulator\bank-service\build\classes\java\main started by POSI in C:\Users\POSI\Desktop\atm-emulator\bank-service)
2022-02-11 21:56:42.464  INFO 9356 --- [main] c.e.bankservice.BankServiceApplication   : No active profile set, falling back to default profiles: default
2022-02-11 21:56:43.060  INFO 9356 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-02-11 21:56:43.115  INFO 9356 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 49 ms. Found 2 JPA repository interfaces.
2022-02-11 21:56:43.792  INFO 9356 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-02-11 21:56:43.803  INFO 9356 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-02-11 21:56:43.803  INFO 9356 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-02-11 21:56:43.893  INFO 9356 --- [main] o.a.c.c.C.[.[localhost].[/bank-service]  : Initializing Spring embedded WebApplicationContext
2022-02-11 21:56:43.894  INFO 9356 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1394 ms
2022-02-11 21:56:44.096  INFO 9356 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-02-11 21:56:44.136  INFO 9356 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-02-11 21:56:44.278  INFO 9356 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-02-11 21:56:44.361  INFO 9356 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-02-11 21:56:44.595  INFO 9356 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-02-11 21:56:44.617  INFO 9356 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-02-11 21:56:45.197  INFO 9356 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-02-11 21:56:45.204  INFO 9356 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-02-11 21:56:45.242  WARN 9356 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-02-11 21:56:45.485 TRACE 9356 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.auth' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 21:56:45.494 TRACE 9356 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.getTransactionDtoList' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 21:56:45.494 TRACE 9356 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.checkIfUserExists' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 21:56:45.494 TRACE 9356 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.getBalance' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 21:56:45.495 TRACE 9356 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.deposit' with attribute: PROPAGATION_REQUIRES_NEW,ISOLATION_DEFAULT
2022-02-11 21:56:45.495 TRACE 9356 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.withdraw' with attribute: PROPAGATION_REQUIRES_NEW,ISOLATION_DEFAULT
2022-02-11 21:56:45.615  INFO 9356 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7430ed93, org.springframework.security.web.context.SecurityContextPersistenceFilter@5bb3dee7, org.springframework.security.web.header.HeaderWriterFilter@70df41f9, org.springframework.security.web.authentication.logout.LogoutFilter@3346e906, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@61d150af, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@285b491f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@254cc548, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2346f77a, org.springframework.security.web.session.SessionManagementFilter@40b8158d, org.springframework.security.web.access.ExceptionTranslationFilter@3c8dea0b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4a1934e2]
2022-02-11 21:56:45.898  INFO 9356 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path '/bank-service'
2022-02-11 21:56:45.906  INFO 9356 --- [main] c.e.bankservice.BankServiceApplication   : Started BankServiceApplication in 3.812 seconds (JVM running for 4.182)
2022-02-11 22:24:03.115  INFO 19888 --- [main] c.e.bankservice.BankServiceApplication   : Starting BankServiceApplication using Java 11.0.9 on POSI-PC with PID 19888 (C:\Users\POSI\Desktop\atm-emulator\bank-service\build\classes\java\main started by POSI in C:\Users\POSI\Desktop\atm-emulator\bank-service)
2022-02-11 22:24:03.118  INFO 19888 --- [main] c.e.bankservice.BankServiceApplication   : No active profile set, falling back to default profiles: default
2022-02-11 22:24:03.693  INFO 19888 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-02-11 22:24:03.740  INFO 19888 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42 ms. Found 2 JPA repository interfaces.
2022-02-11 22:24:04.344  INFO 19888 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-02-11 22:24:04.352  INFO 19888 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-02-11 22:24:04.353  INFO 19888 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-02-11 22:24:04.447  INFO 19888 --- [main] o.a.c.c.C.[.[localhost].[/bank-service]  : Initializing Spring embedded WebApplicationContext
2022-02-11 22:24:04.448  INFO 19888 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1283 ms
2022-02-11 22:24:04.614  INFO 19888 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-02-11 22:24:04.649  INFO 19888 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-02-11 22:24:04.772  INFO 19888 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-02-11 22:24:04.849  INFO 19888 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-02-11 22:24:05.095  INFO 19888 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-02-11 22:24:05.112  INFO 19888 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-02-11 22:24:05.611  INFO 19888 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-02-11 22:24:05.618  INFO 19888 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-02-11 22:24:05.648  WARN 19888 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-02-11 22:24:05.886 TRACE 19888 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.auth' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 22:24:05.894 TRACE 19888 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.checkIfUserExists' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 22:24:05.895 TRACE 19888 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.withdraw' with attribute: PROPAGATION_REQUIRES_NEW,ISOLATION_DEFAULT
2022-02-11 22:24:05.895 TRACE 19888 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.deposit' with attribute: PROPAGATION_REQUIRES_NEW,ISOLATION_DEFAULT
2022-02-11 22:24:05.895 TRACE 19888 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.getBalance' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 22:24:05.896 TRACE 19888 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.getTransactionsByAccountNumberAndDateBetween' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 22:24:06.013  INFO 19888 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@25e8a111, org.springframework.security.web.context.SecurityContextPersistenceFilter@7865cc83, org.springframework.security.web.header.HeaderWriterFilter@77226121, org.springframework.security.web.authentication.logout.LogoutFilter@7e8783b0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4b20aa21, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3346e906, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e295f7f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@21022cbb, org.springframework.security.web.session.SessionManagementFilter@2079fcfc, org.springframework.security.web.access.ExceptionTranslationFilter@254cc548, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@61fa3583]
2022-02-11 22:24:06.264  INFO 19888 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path '/bank-service'
2022-02-11 22:24:06.271  INFO 19888 --- [main] c.e.bankservice.BankServiceApplication   : Started BankServiceApplication in 3.537 seconds (JVM running for 3.918)
2022-02-11 22:27:44.013  INFO 19888 --- [http-nio-8081-exec-1] o.a.c.c.C.[.[localhost].[/bank-service]  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-02-11 22:27:44.014  INFO 19888 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-02-11 22:27:44.015  INFO 19888 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2022-02-11 22:27:44.380  WARN 19888 --- [http-nio-8081-exec-1] o.a.c.util.SessionIdGeneratorBase        : Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [167] milliseconds.
2022-02-11 22:27:44.416 TRACE 19888 --- [http-nio-8081-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.checkIfUserExists]
2022-02-11 22:27:44.426  INFO 19888 --- [http-nio-8081-exec-1] c.e.b.service.impl.BankServiceImpl       : Checking if user exists with card number: 5488123412341235
2022-02-11 22:27:44.426 TRACE 19888 --- [http-nio-8081-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByCardNumber]: This method is not transactional.
2022-02-11 22:27:44.520  WARN 19888 --- [http-nio-8081-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1792, SQLState: 25006
2022-02-11 22:27:44.520 ERROR 19888 --- [http-nio-8081-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot execute statement in a READ ONLY transaction.
2022-02-11 22:27:44.529 TRACE 19888 --- [http-nio-8081-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.checkIfUserExists] after exception: org.springframework.orm.jpa.JpaSystemException: could not extract ResultSet; nested exception is org.hibernate.exception.GenericJDBCException: could not extract ResultSet
2022-02-11 22:27:44.539 ERROR 19888 --- [http-nio-8081-exec-1] c.e.b.exception.CommonExceptionHandler   : Runtime exception could not extract ResultSet; nested exception is org.hibernate.exception.GenericJDBCException: could not extract ResultSet

org.springframework.orm.jpa.JpaSystemException: could not extract ResultSet; nested exception is org.hibernate.exception.GenericJDBCException: could not extract ResultSet
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:331) ~[spring-orm-5.3.15.jar:5.3.15]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233) ~[spring-orm-5.3.15.jar:5.3.15]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.15.jar:5.3.15]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.6.1.jar:2.6.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.15.jar:5.3.15]
	at com.sun.proxy.$Proxy119.findByCardNumber(Unknown Source) ~[na:na]
	at com.emulator.bankservice.service.impl.BankServiceImpl.checkIfUserExists(BankServiceImpl.java:82) ~[main/:na]
	at com.emulator.bankservice.service.impl.BankServiceImpl$$FastClassBySpringCGLIB$$93e574a5.invoke(<generated>) ~[main/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.15.jar:5.3.15]
	at com.emulator.bankservice.service.impl.BankServiceImpl$$EnhancerBySpringCGLIB$$d77204e2.checkIfUserExists(<generated>) ~[main/:na]
	at com.emulator.bankservice.controller.BankServiceController.checkIfUserExists(BankServiceController.java:26) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]
Caused by: org.hibernate.exception.GenericJDBCException: could not extract ResultSet
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:67) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.loader.Loader.getResultSet(Loader.java:2322) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2075) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2037) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.loader.Loader.doQuery(Loader.java:956) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2868) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2850) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.loader.Loader.list(Loader.java:2677) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:540) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1454) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1649) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1665) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getSingleResult(CriteriaQueryTypeQueryAdapter.java:111) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:198) ~[spring-data-jpa-2.6.1.jar:2.6.1]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90) ~[spring-data-jpa-2.6.1.jar:2.6.1]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155) ~[spring-data-jpa-2.6.1.jar:2.6.1]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143) ~[spring-data-jpa-2.6.1.jar:2.6.1]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.15.jar:5.3.15]
	... 109 common frames omitted
Caused by: java.sql.SQLException: Cannot execute statement in a READ ONLY transaction.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.28.jar:8.0.28]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.28.jar:8.0.28]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953) ~[mysql-connector-java-8.0.28.jar:8.0.28]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:1009) ~[mysql-connector-java-8.0.28.jar:8.0.28]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-4.0.3.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:57) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	... 142 common frames omitted

2022-02-11 22:28:53.380  INFO 3772 --- [main] c.e.bankservice.BankServiceApplication   : Starting BankServiceApplication using Java 11.0.9 on POSI-PC with PID 3772 (C:\Users\POSI\Desktop\atm-emulator\bank-service\build\classes\java\main started by POSI in C:\Users\POSI\Desktop\atm-emulator\bank-service)
2022-02-11 22:28:53.382  INFO 3772 --- [main] c.e.bankservice.BankServiceApplication   : No active profile set, falling back to default profiles: default
2022-02-11 22:28:53.914  INFO 3772 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-02-11 22:28:53.962  INFO 3772 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42 ms. Found 2 JPA repository interfaces.
2022-02-11 22:28:54.526  INFO 3772 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-02-11 22:28:54.536  INFO 3772 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-02-11 22:28:54.536  INFO 3772 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-02-11 22:28:54.626  INFO 3772 --- [main] o.a.c.c.C.[.[localhost].[/bank-service]  : Initializing Spring embedded WebApplicationContext
2022-02-11 22:28:54.626  INFO 3772 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1206 ms
2022-02-11 22:28:54.766  INFO 3772 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-02-11 22:28:54.801  INFO 3772 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-02-11 22:28:54.930  INFO 3772 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-02-11 22:28:55.005  INFO 3772 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-02-11 22:28:55.239  INFO 3772 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-02-11 22:28:55.255  INFO 3772 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-02-11 22:28:55.751  INFO 3772 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-02-11 22:28:55.758  INFO 3772 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-02-11 22:28:55.797  WARN 3772 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-02-11 22:28:56.036 TRACE 3772 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.deposit' with attribute: PROPAGATION_REQUIRES_NEW,ISOLATION_DEFAULT
2022-02-11 22:28:56.043 TRACE 3772 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.getBalance' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 22:28:56.043 TRACE 3772 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.checkIfUserExists' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 22:28:56.044 TRACE 3772 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.withdraw' with attribute: PROPAGATION_REQUIRES_NEW,ISOLATION_DEFAULT
2022-02-11 22:28:56.044 TRACE 3772 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.getTransactionsByAccountNumberAndDateBetween' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 22:28:56.044 TRACE 3772 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.auth' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 22:28:56.164  INFO 3772 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1dd9a3ae, org.springframework.security.web.context.SecurityContextPersistenceFilter@7ea039b4, org.springframework.security.web.header.HeaderWriterFilter@5bb3dee7, org.springframework.security.web.authentication.logout.LogoutFilter@2e785b28, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@165454f7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1610c03c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e1897d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@79bf39e5, org.springframework.security.web.session.SessionManagementFilter@3117ac8d, org.springframework.security.web.access.ExceptionTranslationFilter@7ee02968, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@68b3979d]
2022-02-11 22:28:56.416  INFO 3772 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path '/bank-service'
2022-02-11 22:28:56.424  INFO 3772 --- [main] c.e.bankservice.BankServiceApplication   : Started BankServiceApplication in 3.4 seconds (JVM running for 3.752)
2022-02-11 22:29:00.135  INFO 3772 --- [http-nio-8081-exec-1] o.a.c.c.C.[.[localhost].[/bank-service]  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-02-11 22:29:00.137  INFO 3772 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-02-11 22:29:00.138  INFO 3772 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2022-02-11 22:29:00.542  WARN 3772 --- [http-nio-8081-exec-1] o.a.c.util.SessionIdGeneratorBase        : Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [207] milliseconds.
2022-02-11 22:29:00.581 TRACE 3772 --- [http-nio-8081-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.checkIfUserExists]
2022-02-11 22:29:00.591  INFO 3772 --- [http-nio-8081-exec-1] c.e.b.service.impl.BankServiceImpl       : Checking if user exists with card number: 5488123412341235
2022-02-11 22:29:00.592 TRACE 3772 --- [http-nio-8081-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByCardNumber]: This method is not transactional.
2022-02-11 22:29:00.700 TRACE 3772 --- [http-nio-8081-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.checkIfUserExists]
2022-02-11 22:31:59.609  INFO 12336 --- [main] c.e.bankservice.BankServiceApplication   : Starting BankServiceApplication using Java 11.0.9 on POSI-PC with PID 12336 (C:\Users\POSI\Desktop\atm-emulator\bank-service\build\classes\java\main started by POSI in C:\Users\POSI\Desktop\atm-emulator\bank-service)
2022-02-11 22:31:59.611  INFO 12336 --- [main] c.e.bankservice.BankServiceApplication   : No active profile set, falling back to default profiles: default
2022-02-11 22:32:00.188  INFO 12336 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-02-11 22:32:00.249  INFO 12336 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 55 ms. Found 2 JPA repository interfaces.
2022-02-11 22:32:00.895  INFO 12336 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-02-11 22:32:00.905  INFO 12336 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-02-11 22:32:00.905  INFO 12336 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-02-11 22:32:01.005  INFO 12336 --- [main] o.a.c.c.C.[.[localhost].[/bank-service]  : Initializing Spring embedded WebApplicationContext
2022-02-11 22:32:01.005  INFO 12336 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1353 ms
2022-02-11 22:32:01.171  INFO 12336 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-02-11 22:32:01.212  INFO 12336 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-02-11 22:32:01.353  INFO 12336 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-02-11 22:32:01.431  INFO 12336 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-02-11 22:32:01.675  INFO 12336 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-02-11 22:32:01.691  INFO 12336 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-02-11 22:32:02.207  INFO 12336 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-02-11 22:32:02.216  INFO 12336 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-02-11 22:32:02.252  WARN 12336 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-02-11 22:32:02.511 TRACE 12336 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.auth' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 22:32:02.518 TRACE 12336 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.getBalance' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 22:32:02.519 TRACE 12336 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.withdraw' with attribute: PROPAGATION_REQUIRES_NEW,ISOLATION_DEFAULT
2022-02-11 22:32:02.519 TRACE 12336 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.checkIfUserExists' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 22:32:02.519 TRACE 12336 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.deposit' with attribute: PROPAGATION_REQUIRES_NEW,ISOLATION_DEFAULT
2022-02-11 22:32:02.519 TRACE 12336 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.getTransactionsByAccountNumberAndDateBetween' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 22:32:02.647  INFO 12336 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@25e8a111, org.springframework.security.web.context.SecurityContextPersistenceFilter@7865cc83, org.springframework.security.web.header.HeaderWriterFilter@77226121, org.springframework.security.web.authentication.logout.LogoutFilter@7e8783b0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4b20aa21, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3346e906, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e295f7f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@21022cbb, org.springframework.security.web.session.SessionManagementFilter@2079fcfc, org.springframework.security.web.access.ExceptionTranslationFilter@254cc548, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@61fa3583]
2022-02-11 22:32:02.917  INFO 12336 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path '/bank-service'
2022-02-11 22:32:02.924  INFO 12336 --- [main] c.e.bankservice.BankServiceApplication   : Started BankServiceApplication in 3.698 seconds (JVM running for 4.096)
2022-02-11 22:32:17.384  INFO 12336 --- [http-nio-8081-exec-1] o.a.c.c.C.[.[localhost].[/bank-service]  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-02-11 22:32:17.385  INFO 12336 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-02-11 22:32:17.386  INFO 12336 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2022-02-11 22:32:17.786  WARN 12336 --- [http-nio-8081-exec-1] o.a.c.util.SessionIdGeneratorBase        : Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [188] milliseconds.
2022-02-11 22:32:17.824 TRACE 12336 --- [http-nio-8081-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.auth]
2022-02-11 22:32:17.836 TRACE 12336 --- [http-nio-8081-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2022-02-11 22:32:17.864 TRACE 12336 --- [http-nio-8081-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2022-02-11 22:32:17.865  INFO 12336 --- [http-nio-8081-exec-1] c.e.b.authorization.PinAuthorization     : Authenticating user using PIN method
2022-02-11 22:32:17.865 TRACE 12336 --- [http-nio-8081-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.auth]
2022-02-11 22:32:30.959 TRACE 12336 --- [http-nio-8081-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.getTransactionsByAccountNumberAndDateBetween]
2022-02-11 22:32:30.960  INFO 12336 --- [http-nio-8081-exec-2] c.e.b.s.impl.TransactionServiceImpl      : Getting transaction list by account id 111
2022-02-11 22:32:30.960 TRACE 12336 --- [http-nio-8081-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByUserEntityAccountNumberAndTransactionDateBetween]: This method is not transactional.
2022-02-11 22:32:31.058 TRACE 12336 --- [http-nio-8081-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.getTransactionsByAccountNumberAndDateBetween]
2022-02-11 22:32:49.130 TRACE 12336 --- [http-nio-8081-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.getTransactionsByAccountNumberAndDateBetween]
2022-02-11 22:32:49.131  INFO 12336 --- [http-nio-8081-exec-3] c.e.b.s.impl.TransactionServiceImpl      : Getting transaction list by account id 111
2022-02-11 22:32:49.131 TRACE 12336 --- [http-nio-8081-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByUserEntityAccountNumberAndTransactionDateBetween]: This method is not transactional.
2022-02-11 22:32:49.139 TRACE 12336 --- [http-nio-8081-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.getTransactionsByAccountNumberAndDateBetween]
2022-02-11 22:33:40.392 TRACE 12336 --- [http-nio-8081-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.deposit]
2022-02-11 22:33:40.393 TRACE 12336 --- [http-nio-8081-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2022-02-11 22:33:40.395 TRACE 12336 --- [http-nio-8081-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2022-02-11 22:33:40.395  INFO 12336 --- [http-nio-8081-exec-4] c.e.b.service.impl.BankServiceImpl       : Doing DEPOSIT operation for user 111 with amount 2003.00
2022-02-11 22:33:40.397 TRACE 12336 --- [http-nio-8081-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2022-02-11 22:33:40.406 TRACE 12336 --- [http-nio-8081-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2022-02-11 22:33:40.407  INFO 12336 --- [http-nio-8081-exec-4] c.e.b.s.impl.TransactionServiceImpl      : saving DEPOSIT transaction with amount 2003.00 for user 111
2022-02-11 22:33:40.407 TRACE 12336 --- [http-nio-8081-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2022-02-11 22:33:40.449 TRACE 12336 --- [http-nio-8081-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2022-02-11 22:33:40.449 TRACE 12336 --- [http-nio-8081-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.deposit]
2022-02-11 22:33:40.462 ERROR 12336 --- [http-nio-8081-exec-4] c.e.b.exception.CommonExceptionHandler   : Runtime exception Could not commit JPA transaction; nested exception is javax.persistence.RollbackException: Error while committing the transaction

org.springframework.transaction.TransactionSystemException: Could not commit JPA transaction; nested exception is javax.persistence.RollbackException: Error while committing the transaction
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:571) ~[spring-orm-5.3.15.jar:5.3.15]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.15.jar:5.3.15]
	at com.emulator.bankservice.service.impl.BankServiceImpl$$EnhancerBySpringCGLIB$$d77204e2.deposit(<generated>) ~[main/:na]
	at com.emulator.bankservice.controller.BankServiceController.deposit(BankServiceController.java:45) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]
Caused by: javax.persistence.RollbackException: Error while committing the transaction
	at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:81) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-5.3.15.jar:5.3.15]
	... 98 common frames omitted
Caused by: java.lang.NullPointerException: null
	at org.hibernate.type.IntegerType.next(IntegerType.java:70) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.type.IntegerType.next(IntegerType.java:22) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.engine.internal.Versioning.increment(Versioning.java:92) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.getNextVersion(DefaultFlushEntityEventListener.java:428) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.scheduleUpdate(DefaultFlushEntityEventListener.java:305) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.onFlushEntity(DefaultFlushEntityEventListener.java:171) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.flushEntities(AbstractFlushingEventListener.java:229) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:93) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1402) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:493) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3285) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2420) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:449) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	... 99 common frames omitted

2022-02-11 22:34:41.576  INFO 1260 --- [main] c.e.bankservice.BankServiceApplication   : Starting BankServiceApplication using Java 11.0.9 on POSI-PC with PID 1260 (C:\Users\POSI\Desktop\atm-emulator\bank-service\build\classes\java\main started by POSI in C:\Users\POSI\Desktop\atm-emulator\bank-service)
2022-02-11 22:34:41.578  INFO 1260 --- [main] c.e.bankservice.BankServiceApplication   : No active profile set, falling back to default profiles: default
2022-02-11 22:34:42.240  INFO 1260 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-02-11 22:34:42.296  INFO 1260 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 50 ms. Found 2 JPA repository interfaces.
2022-02-11 22:34:42.890  INFO 1260 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-02-11 22:34:42.899  INFO 1260 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-02-11 22:34:42.899  INFO 1260 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-02-11 22:34:42.976  INFO 1260 --- [main] o.a.c.c.C.[.[localhost].[/bank-service]  : Initializing Spring embedded WebApplicationContext
2022-02-11 22:34:42.977  INFO 1260 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1359 ms
2022-02-11 22:34:43.129  INFO 1260 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-02-11 22:34:43.168  INFO 1260 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-02-11 22:34:43.308  INFO 1260 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-02-11 22:34:43.389  INFO 1260 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-02-11 22:34:43.641  INFO 1260 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-02-11 22:34:43.657  INFO 1260 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-02-11 22:34:44.180  INFO 1260 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-02-11 22:34:44.187  INFO 1260 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-02-11 22:34:44.226  WARN 1260 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-02-11 22:34:44.480 TRACE 1260 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.auth' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 22:34:44.487 TRACE 1260 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.getTransactionsByAccountNumberAndDateBetween' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 22:34:44.488 TRACE 1260 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.withdraw' with attribute: PROPAGATION_REQUIRES_NEW,ISOLATION_DEFAULT
2022-02-11 22:34:44.488 TRACE 1260 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.checkIfUserExists' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 22:34:44.488 TRACE 1260 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.deposit' with attribute: PROPAGATION_REQUIRES_NEW,ISOLATION_DEFAULT
2022-02-11 22:34:44.488 TRACE 1260 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.getBalance' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 22:34:44.607  INFO 1260 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@dd77e0d, org.springframework.security.web.context.SecurityContextPersistenceFilter@24f2608b, org.springframework.security.web.header.HeaderWriterFilter@6556471b, org.springframework.security.web.authentication.logout.LogoutFilter@776a3365, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@21780905, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@462f8fe9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4a3516fd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@799cf32d, org.springframework.security.web.session.SessionManagementFilter@1e295f7f, org.springframework.security.web.access.ExceptionTranslationFilter@7c200e57, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6ac2c5a1]
2022-02-11 22:34:44.865  INFO 1260 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path '/bank-service'
2022-02-11 22:34:44.873  INFO 1260 --- [main] c.e.bankservice.BankServiceApplication   : Started BankServiceApplication in 3.697 seconds (JVM running for 4.076)
2022-02-11 22:35:46.900  INFO 1260 --- [http-nio-8081-exec-1] o.a.c.c.C.[.[localhost].[/bank-service]  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-02-11 22:35:46.900  INFO 1260 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-02-11 22:35:46.901  INFO 1260 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2022-02-11 22:35:47.305  WARN 1260 --- [http-nio-8081-exec-1] o.a.c.util.SessionIdGeneratorBase        : Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [203] milliseconds.
2022-02-11 22:35:47.347 TRACE 1260 --- [http-nio-8081-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.deposit]
2022-02-11 22:35:47.359 TRACE 1260 --- [http-nio-8081-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2022-02-11 22:35:47.389 TRACE 1260 --- [http-nio-8081-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2022-02-11 22:35:47.390  INFO 1260 --- [http-nio-8081-exec-1] c.e.b.service.impl.BankServiceImpl       : Doing DEPOSIT operation for user 111 with amount 2003.00
2022-02-11 22:35:47.391 TRACE 1260 --- [http-nio-8081-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2022-02-11 22:35:47.403 TRACE 1260 --- [http-nio-8081-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2022-02-11 22:35:47.403  INFO 1260 --- [http-nio-8081-exec-1] c.e.b.s.impl.TransactionServiceImpl      : saving DEPOSIT transaction with amount 2003.00 for user 111
2022-02-11 22:35:47.404 TRACE 1260 --- [http-nio-8081-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2022-02-11 22:35:47.446 TRACE 1260 --- [http-nio-8081-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2022-02-11 22:35:47.447 TRACE 1260 --- [http-nio-8081-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.deposit]
2022-02-11 22:35:47.464 ERROR 1260 --- [http-nio-8081-exec-1] c.e.b.exception.CommonExceptionHandler   : Runtime exception Could not commit JPA transaction; nested exception is javax.persistence.RollbackException: Error while committing the transaction

org.springframework.transaction.TransactionSystemException: Could not commit JPA transaction; nested exception is javax.persistence.RollbackException: Error while committing the transaction
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:571) ~[spring-orm-5.3.15.jar:5.3.15]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.15.jar:5.3.15]
	at com.emulator.bankservice.service.impl.BankServiceImpl$$EnhancerBySpringCGLIB$$c9254662.deposit(<generated>) ~[main/:na]
	at com.emulator.bankservice.controller.BankServiceController.deposit(BankServiceController.java:45) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]
Caused by: javax.persistence.RollbackException: Error while committing the transaction
	at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:81) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-5.3.15.jar:5.3.15]
	... 98 common frames omitted
Caused by: java.lang.NullPointerException: null
	at org.hibernate.type.IntegerType.next(IntegerType.java:70) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.type.IntegerType.next(IntegerType.java:22) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.engine.internal.Versioning.increment(Versioning.java:92) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.getNextVersion(DefaultFlushEntityEventListener.java:428) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.scheduleUpdate(DefaultFlushEntityEventListener.java:305) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.onFlushEntity(DefaultFlushEntityEventListener.java:171) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.flushEntities(AbstractFlushingEventListener.java:229) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:93) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1402) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:493) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3285) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2420) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:449) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	... 99 common frames omitted

2022-02-11 22:37:12.273  INFO 17744 --- [main] c.e.bankservice.BankServiceApplication   : Starting BankServiceApplication using Java 11.0.9 on POSI-PC with PID 17744 (C:\Users\POSI\Desktop\atm-emulator\bank-service\build\classes\java\main started by POSI in C:\Users\POSI\Desktop\atm-emulator\bank-service)
2022-02-11 22:37:12.276  INFO 17744 --- [main] c.e.bankservice.BankServiceApplication   : No active profile set, falling back to default profiles: default
2022-02-11 22:37:12.850  INFO 17744 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-02-11 22:37:12.905  INFO 17744 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 48 ms. Found 2 JPA repository interfaces.
2022-02-11 22:37:13.529  INFO 17744 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-02-11 22:37:13.539  INFO 17744 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-02-11 22:37:13.539  INFO 17744 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-02-11 22:37:13.616  INFO 17744 --- [main] o.a.c.c.C.[.[localhost].[/bank-service]  : Initializing Spring embedded WebApplicationContext
2022-02-11 22:37:13.616  INFO 17744 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1302 ms
2022-02-11 22:37:13.766  INFO 17744 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-02-11 22:37:13.807  INFO 17744 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-02-11 22:37:13.938  INFO 17744 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-02-11 22:37:14.018  INFO 17744 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-02-11 22:37:14.272  INFO 17744 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-02-11 22:37:14.289  INFO 17744 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-02-11 22:37:14.821  INFO 17744 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-02-11 22:37:14.828  INFO 17744 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-02-11 22:37:14.867  WARN 17744 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-02-11 22:37:15.122 TRACE 17744 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.auth' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 22:37:15.130 TRACE 17744 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.getTransactionsByAccountNumberAndDateBetween' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 22:37:15.130 TRACE 17744 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.deposit' with attribute: PROPAGATION_REQUIRES_NEW,ISOLATION_DEFAULT
2022-02-11 22:37:15.130 TRACE 17744 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.withdraw' with attribute: PROPAGATION_REQUIRES_NEW,ISOLATION_DEFAULT
2022-02-11 22:37:15.130 TRACE 17744 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.checkIfUserExists' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 22:37:15.131 TRACE 17744 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.getBalance' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 22:37:15.246  INFO 17744 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f5167f0, org.springframework.security.web.context.SecurityContextPersistenceFilter@7cdb05aa, org.springframework.security.web.header.HeaderWriterFilter@65f470f8, org.springframework.security.web.authentication.logout.LogoutFilter@1002d1c8, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1abbc1d4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@77401977, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@713497cd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1260c85e, org.springframework.security.web.session.SessionManagementFilter@6556471b, org.springframework.security.web.access.ExceptionTranslationFilter@52325940, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4b9b5da5]
2022-02-11 22:37:15.516  INFO 17744 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path '/bank-service'
2022-02-11 22:37:15.523  INFO 17744 --- [main] c.e.bankservice.BankServiceApplication   : Started BankServiceApplication in 3.622 seconds (JVM running for 3.986)
2022-02-11 22:37:17.016  INFO 17744 --- [http-nio-8081-exec-1] o.a.c.c.C.[.[localhost].[/bank-service]  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-02-11 22:37:17.017  INFO 17744 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-02-11 22:37:17.018  INFO 17744 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2022-02-11 22:37:17.398  WARN 17744 --- [http-nio-8081-exec-1] o.a.c.util.SessionIdGeneratorBase        : Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [183] milliseconds.
2022-02-11 22:37:17.435 TRACE 17744 --- [http-nio-8081-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.deposit]
2022-02-11 22:37:17.447 TRACE 17744 --- [http-nio-8081-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2022-02-11 22:37:17.475 TRACE 17744 --- [http-nio-8081-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2022-02-11 22:37:17.475  INFO 17744 --- [http-nio-8081-exec-1] c.e.b.service.impl.BankServiceImpl       : Doing DEPOSIT operation for user 111 with amount 2003.00
2022-02-11 22:37:17.477 TRACE 17744 --- [http-nio-8081-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2022-02-11 22:37:17.486 TRACE 17744 --- [http-nio-8081-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2022-02-11 22:37:17.486  INFO 17744 --- [http-nio-8081-exec-1] c.e.b.s.impl.TransactionServiceImpl      : saving DEPOSIT transaction with amount 2003.00 for user 111
2022-02-11 22:37:17.487 TRACE 17744 --- [http-nio-8081-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2022-02-11 22:37:17.525 TRACE 17744 --- [http-nio-8081-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2022-02-11 22:37:17.527 TRACE 17744 --- [http-nio-8081-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.deposit]
2022-02-11 22:37:17.542 ERROR 17744 --- [http-nio-8081-exec-1] c.e.b.exception.CommonExceptionHandler   : Runtime exception Could not commit JPA transaction; nested exception is javax.persistence.RollbackException: Error while committing the transaction

org.springframework.transaction.TransactionSystemException: Could not commit JPA transaction; nested exception is javax.persistence.RollbackException: Error while committing the transaction
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:571) ~[spring-orm-5.3.15.jar:5.3.15]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.15.jar:5.3.15]
	at com.emulator.bankservice.service.impl.BankServiceImpl$$EnhancerBySpringCGLIB$$e6f98177.deposit(<generated>) ~[main/:na]
	at com.emulator.bankservice.controller.BankServiceController.deposit(BankServiceController.java:45) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]
Caused by: javax.persistence.RollbackException: Error while committing the transaction
	at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:81) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-5.3.15.jar:5.3.15]
	... 98 common frames omitted
Caused by: java.lang.NullPointerException: null
	at org.hibernate.type.IntegerType.next(IntegerType.java:70) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.type.IntegerType.next(IntegerType.java:22) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.engine.internal.Versioning.increment(Versioning.java:92) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.getNextVersion(DefaultFlushEntityEventListener.java:428) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.scheduleUpdate(DefaultFlushEntityEventListener.java:305) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.onFlushEntity(DefaultFlushEntityEventListener.java:171) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.flushEntities(AbstractFlushingEventListener.java:229) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:93) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1402) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:493) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3285) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2420) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:449) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	... 99 common frames omitted

2022-02-11 22:37:26.275 TRACE 17744 --- [http-nio-8081-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.checkIfUserExists]
2022-02-11 22:37:26.276  INFO 17744 --- [http-nio-8081-exec-2] c.e.b.service.impl.BankServiceImpl       : Checking if user exists with card number: 5488123412341235
2022-02-11 22:37:26.276 TRACE 17744 --- [http-nio-8081-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByCardNumber]: This method is not transactional.
2022-02-11 22:37:26.364 TRACE 17744 --- [http-nio-8081-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.checkIfUserExists]
2022-02-11 22:37:30.248 TRACE 17744 --- [http-nio-8081-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.auth]
2022-02-11 22:37:30.248 TRACE 17744 --- [http-nio-8081-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2022-02-11 22:37:30.250 TRACE 17744 --- [http-nio-8081-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2022-02-11 22:37:30.251  INFO 17744 --- [http-nio-8081-exec-3] c.e.b.authorization.PinAuthorization     : Authenticating user using PIN method
2022-02-11 22:37:30.251 TRACE 17744 --- [http-nio-8081-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.auth]
2022-02-11 22:37:38.290 TRACE 17744 --- [http-nio-8081-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.deposit]
2022-02-11 22:37:38.290 TRACE 17744 --- [http-nio-8081-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2022-02-11 22:37:38.292 TRACE 17744 --- [http-nio-8081-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2022-02-11 22:37:38.292  INFO 17744 --- [http-nio-8081-exec-4] c.e.b.service.impl.BankServiceImpl       : Doing DEPOSIT operation for user 111 with amount 2003.00
2022-02-11 22:37:38.292 TRACE 17744 --- [http-nio-8081-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2022-02-11 22:37:38.292 TRACE 17744 --- [http-nio-8081-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2022-02-11 22:37:38.292  INFO 17744 --- [http-nio-8081-exec-4] c.e.b.s.impl.TransactionServiceImpl      : saving DEPOSIT transaction with amount 2003.00 for user 111
2022-02-11 22:37:38.292 TRACE 17744 --- [http-nio-8081-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2022-02-11 22:37:38.295 TRACE 17744 --- [http-nio-8081-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2022-02-11 22:37:38.295 TRACE 17744 --- [http-nio-8081-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.deposit]
2022-02-11 22:37:38.299 ERROR 17744 --- [http-nio-8081-exec-4] c.e.b.exception.CommonExceptionHandler   : Runtime exception Could not commit JPA transaction; nested exception is javax.persistence.RollbackException: Error while committing the transaction

org.springframework.transaction.TransactionSystemException: Could not commit JPA transaction; nested exception is javax.persistence.RollbackException: Error while committing the transaction
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:571) ~[spring-orm-5.3.15.jar:5.3.15]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.15.jar:5.3.15]
	at com.emulator.bankservice.service.impl.BankServiceImpl$$EnhancerBySpringCGLIB$$e6f98177.deposit(<generated>) ~[main/:na]
	at com.emulator.bankservice.controller.BankServiceController.deposit(BankServiceController.java:45) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]
Caused by: javax.persistence.RollbackException: Error while committing the transaction
	at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:81) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-5.3.15.jar:5.3.15]
	... 98 common frames omitted
Caused by: java.lang.NullPointerException: null
	at org.hibernate.type.IntegerType.next(IntegerType.java:70) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.type.IntegerType.next(IntegerType.java:22) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.engine.internal.Versioning.increment(Versioning.java:92) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.getNextVersion(DefaultFlushEntityEventListener.java:428) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.scheduleUpdate(DefaultFlushEntityEventListener.java:305) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.onFlushEntity(DefaultFlushEntityEventListener.java:171) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.flushEntities(AbstractFlushingEventListener.java:229) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:93) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1402) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:493) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3285) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2420) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:449) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	... 99 common frames omitted

2022-02-11 22:38:11.385 TRACE 17744 --- [http-nio-8081-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.deposit]
2022-02-11 22:38:11.385 TRACE 17744 --- [http-nio-8081-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2022-02-11 22:38:11.388 TRACE 17744 --- [http-nio-8081-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2022-02-11 22:38:11.388  INFO 17744 --- [http-nio-8081-exec-5] c.e.b.service.impl.BankServiceImpl       : Doing DEPOSIT operation for user 111 with amount 2003.00
2022-02-11 22:38:11.388 TRACE 17744 --- [http-nio-8081-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2022-02-11 22:38:11.388 TRACE 17744 --- [http-nio-8081-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2022-02-11 22:38:11.389  INFO 17744 --- [http-nio-8081-exec-5] c.e.b.s.impl.TransactionServiceImpl      : saving DEPOSIT transaction with amount 2003.00 for user 111
2022-02-11 22:38:11.389 TRACE 17744 --- [http-nio-8081-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2022-02-11 22:38:11.392 TRACE 17744 --- [http-nio-8081-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2022-02-11 22:38:11.392 TRACE 17744 --- [http-nio-8081-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.deposit]
2022-02-11 22:38:11.399 ERROR 17744 --- [http-nio-8081-exec-5] c.e.b.exception.CommonExceptionHandler   : Runtime exception Could not commit JPA transaction; nested exception is javax.persistence.RollbackException: Error while committing the transaction

org.springframework.transaction.TransactionSystemException: Could not commit JPA transaction; nested exception is javax.persistence.RollbackException: Error while committing the transaction
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:571) ~[spring-orm-5.3.15.jar:5.3.15]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.15.jar:5.3.15]
	at com.emulator.bankservice.service.impl.BankServiceImpl$$EnhancerBySpringCGLIB$$e6f98177.deposit(<generated>) ~[main/:na]
	at com.emulator.bankservice.controller.BankServiceController.deposit(BankServiceController.java:45) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]
Caused by: javax.persistence.RollbackException: Error while committing the transaction
	at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:81) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-5.3.15.jar:5.3.15]
	... 98 common frames omitted
Caused by: java.lang.NullPointerException: null
	at org.hibernate.type.IntegerType.next(IntegerType.java:70) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.type.IntegerType.next(IntegerType.java:22) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.engine.internal.Versioning.increment(Versioning.java:92) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.getNextVersion(DefaultFlushEntityEventListener.java:428) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.scheduleUpdate(DefaultFlushEntityEventListener.java:305) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.onFlushEntity(DefaultFlushEntityEventListener.java:171) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.flushEntities(AbstractFlushingEventListener.java:229) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:93) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1402) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:493) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3285) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2420) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:449) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	... 99 common frames omitted

2022-02-11 22:39:28.393 TRACE 17744 --- [http-nio-8081-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.deposit]
2022-02-11 22:39:28.394 TRACE 17744 --- [http-nio-8081-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2022-02-11 22:39:28.395 TRACE 17744 --- [http-nio-8081-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2022-02-11 22:39:28.395  INFO 17744 --- [http-nio-8081-exec-6] c.e.b.service.impl.BankServiceImpl       : Doing DEPOSIT operation for user 111 with amount 2003.00
2022-02-11 22:39:28.395 TRACE 17744 --- [http-nio-8081-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2022-02-11 22:39:28.396 TRACE 17744 --- [http-nio-8081-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2022-02-11 22:39:28.396  INFO 17744 --- [http-nio-8081-exec-6] c.e.b.s.impl.TransactionServiceImpl      : saving DEPOSIT transaction with amount 2003.00 for user 111
2022-02-11 22:39:28.396 TRACE 17744 --- [http-nio-8081-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2022-02-11 22:39:28.398 TRACE 17744 --- [http-nio-8081-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2022-02-11 22:39:28.399 TRACE 17744 --- [http-nio-8081-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.deposit]
2022-02-11 22:39:28.402 ERROR 17744 --- [http-nio-8081-exec-6] c.e.b.exception.CommonExceptionHandler   : Runtime exception Could not commit JPA transaction; nested exception is javax.persistence.RollbackException: Error while committing the transaction

org.springframework.transaction.TransactionSystemException: Could not commit JPA transaction; nested exception is javax.persistence.RollbackException: Error while committing the transaction
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:571) ~[spring-orm-5.3.15.jar:5.3.15]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.15.jar:5.3.15]
	at com.emulator.bankservice.service.impl.BankServiceImpl$$EnhancerBySpringCGLIB$$e6f98177.deposit(<generated>) ~[main/:na]
	at com.emulator.bankservice.controller.BankServiceController.deposit(BankServiceController.java:45) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]
Caused by: javax.persistence.RollbackException: Error while committing the transaction
	at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:81) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-5.3.15.jar:5.3.15]
	... 98 common frames omitted
Caused by: java.lang.NullPointerException: null
	at org.hibernate.type.IntegerType.next(IntegerType.java:70) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.type.IntegerType.next(IntegerType.java:22) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.engine.internal.Versioning.increment(Versioning.java:92) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.getNextVersion(DefaultFlushEntityEventListener.java:428) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.scheduleUpdate(DefaultFlushEntityEventListener.java:305) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.onFlushEntity(DefaultFlushEntityEventListener.java:171) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.flushEntities(AbstractFlushingEventListener.java:229) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:93) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1402) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:493) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3285) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2420) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:449) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	... 99 common frames omitted

2022-02-11 22:40:39.201  INFO 16488 --- [main] c.e.bankservice.BankServiceApplication   : Starting BankServiceApplication using Java 11.0.9 on POSI-PC with PID 16488 (C:\Users\POSI\Desktop\atm-emulator\bank-service\build\classes\java\main started by POSI in C:\Users\POSI\Desktop\atm-emulator\bank-service)
2022-02-11 22:40:39.204  INFO 16488 --- [main] c.e.bankservice.BankServiceApplication   : No active profile set, falling back to default profiles: default
2022-02-11 22:40:39.768  INFO 16488 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-02-11 22:40:39.820  INFO 16488 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47 ms. Found 2 JPA repository interfaces.
2022-02-11 22:40:40.449  INFO 16488 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-02-11 22:40:40.459  INFO 16488 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-02-11 22:40:40.459  INFO 16488 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-02-11 22:40:40.534  INFO 16488 --- [main] o.a.c.c.C.[.[localhost].[/bank-service]  : Initializing Spring embedded WebApplicationContext
2022-02-11 22:40:40.535  INFO 16488 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1293 ms
2022-02-11 22:40:40.681  INFO 16488 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-02-11 22:40:40.722  INFO 16488 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-02-11 22:40:40.866  INFO 16488 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-02-11 22:40:40.950  INFO 16488 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-02-11 22:40:41.205  INFO 16488 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-02-11 22:40:41.222  INFO 16488 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-02-11 22:40:41.760  INFO 16488 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-02-11 22:40:41.768  INFO 16488 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-02-11 22:40:41.799  WARN 16488 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-02-11 22:40:42.065 TRACE 16488 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.auth' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 22:40:42.073 TRACE 16488 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.getTransactionsByAccountNumberAndDateBetween' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 22:40:42.073 TRACE 16488 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.withdraw' with attribute: PROPAGATION_REQUIRES_NEW,ISOLATION_DEFAULT
2022-02-11 22:40:42.073 TRACE 16488 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.checkIfUserExists' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 22:40:42.073 TRACE 16488 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.getBalance' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 22:40:42.188  INFO 16488 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@61fa3583, org.springframework.security.web.context.SecurityContextPersistenceFilter@7f792530, org.springframework.security.web.header.HeaderWriterFilter@467cd4b9, org.springframework.security.web.authentication.logout.LogoutFilter@1e295f7f, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@38347345, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@254cc548, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7ea039b4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@709d2a6c, org.springframework.security.web.session.SessionManagementFilter@20d3fff4, org.springframework.security.web.access.ExceptionTranslationFilter@6c737fdb, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@75ac326f]
2022-02-11 22:40:42.462  INFO 16488 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path '/bank-service'
2022-02-11 22:40:42.469  INFO 16488 --- [main] c.e.bankservice.BankServiceApplication   : Started BankServiceApplication in 3.65 seconds (JVM running for 4.011)
2022-02-11 22:41:20.489  INFO 16488 --- [http-nio-8081-exec-1] o.a.c.c.C.[.[localhost].[/bank-service]  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-02-11 22:41:20.490  INFO 16488 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-02-11 22:41:20.491  INFO 16488 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2022-02-11 22:41:20.862  WARN 16488 --- [http-nio-8081-exec-1] o.a.c.util.SessionIdGeneratorBase        : Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [168] milliseconds.
2022-02-11 22:41:20.909 TRACE 16488 --- [http-nio-8081-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2022-02-11 22:41:20.940 TRACE 16488 --- [http-nio-8081-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2022-02-11 22:41:20.943  INFO 16488 --- [http-nio-8081-exec-1] c.e.b.service.impl.BankServiceImpl       : Doing DEPOSIT operation for user 111 with final balance of 2003.00
2022-02-11 22:41:20.944 TRACE 16488 --- [http-nio-8081-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2022-02-11 22:41:20.954 TRACE 16488 --- [http-nio-8081-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2022-02-11 22:41:20.971 ERROR 16488 --- [http-nio-8081-exec-1] c.e.b.exception.CommonExceptionHandler   : Runtime exception Could not commit JPA transaction; nested exception is javax.persistence.RollbackException: Error while committing the transaction

org.springframework.transaction.TransactionSystemException: Could not commit JPA transaction; nested exception is javax.persistence.RollbackException: Error while committing the transaction
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:571) ~[spring-orm-5.3.15.jar:5.3.15]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.6.1.jar:2.6.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.15.jar:5.3.15]
	at com.sun.proxy.$Proxy118.save(Unknown Source) ~[na:na]
	at com.emulator.bankservice.service.impl.BankServiceImpl.setUserBalanceAndPersist(BankServiceImpl.java:116) ~[main/:na]
	at com.emulator.bankservice.service.impl.BankServiceImpl.depositUserBalance(BankServiceImpl.java:105) ~[main/:na]
	at com.emulator.bankservice.service.impl.BankServiceImpl.lambda$deposit$0(BankServiceImpl.java:53) ~[main/:na]
	at java.base/java.util.Optional.map(Optional.java:265) ~[na:na]
	at com.emulator.bankservice.service.impl.BankServiceImpl.deposit(BankServiceImpl.java:53) ~[main/:na]
	at com.emulator.bankservice.service.impl.BankServiceImpl$$FastClassBySpringCGLIB$$93e574a5.invoke(<generated>) ~[main/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.3.15.jar:5.3.15]
	at com.emulator.bankservice.service.impl.BankServiceImpl$$EnhancerBySpringCGLIB$$837bddcf.deposit(<generated>) ~[main/:na]
	at com.emulator.bankservice.controller.BankServiceController.deposit(BankServiceController.java:45) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]
Caused by: javax.persistence.RollbackException: Error while committing the transaction
	at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:81) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-5.3.15.jar:5.3.15]
	... 112 common frames omitted
Caused by: java.lang.NullPointerException: null
	at org.hibernate.type.IntegerType.next(IntegerType.java:70) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.type.IntegerType.next(IntegerType.java:22) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.engine.internal.Versioning.increment(Versioning.java:92) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.getNextVersion(DefaultFlushEntityEventListener.java:428) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.scheduleUpdate(DefaultFlushEntityEventListener.java:305) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.onFlushEntity(DefaultFlushEntityEventListener.java:171) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.flushEntities(AbstractFlushingEventListener.java:229) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:93) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1402) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:493) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3285) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2420) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:449) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	... 113 common frames omitted

2022-02-11 22:42:01.306 TRACE 16488 --- [http-nio-8081-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2022-02-11 22:42:01.308 TRACE 16488 --- [http-nio-8081-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2022-02-11 22:42:01.309  INFO 16488 --- [http-nio-8081-exec-2] c.e.b.service.impl.BankServiceImpl       : Doing DEPOSIT operation for user 111 with final balance of 2003.00
2022-02-11 22:42:01.310 TRACE 16488 --- [http-nio-8081-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2022-02-11 22:42:01.313 TRACE 16488 --- [http-nio-8081-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2022-02-11 22:42:01.347  INFO 16488 --- [http-nio-8081-exec-2] c.e.b.s.impl.TransactionServiceImpl      : saving DEPOSIT transaction with amount 2003.00 for user 111
2022-02-11 22:42:01.349 TRACE 16488 --- [http-nio-8081-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2022-02-11 22:42:01.385 TRACE 16488 --- [http-nio-8081-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2022-02-11 22:42:22.319  INFO 8980 --- [main] c.e.bankservice.BankServiceApplication   : Starting BankServiceApplication using Java 11.0.9 on POSI-PC with PID 8980 (C:\Users\POSI\Desktop\atm-emulator\bank-service\build\classes\java\main started by POSI in C:\Users\POSI\Desktop\atm-emulator\bank-service)
2022-02-11 22:42:22.321  INFO 8980 --- [main] c.e.bankservice.BankServiceApplication   : No active profile set, falling back to default profiles: default
2022-02-11 22:42:22.964  INFO 8980 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-02-11 22:42:23.024  INFO 8980 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 52 ms. Found 2 JPA repository interfaces.
2022-02-11 22:42:23.688  INFO 8980 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-02-11 22:42:23.695  INFO 8980 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-02-11 22:42:23.696  INFO 8980 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-02-11 22:42:23.790  INFO 8980 --- [main] o.a.c.c.C.[.[localhost].[/bank-service]  : Initializing Spring embedded WebApplicationContext
2022-02-11 22:42:23.790  INFO 8980 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1428 ms
2022-02-11 22:42:23.946  INFO 8980 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-02-11 22:42:23.986  INFO 8980 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-02-11 22:42:24.130  INFO 8980 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-02-11 22:42:24.215  INFO 8980 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-02-11 22:42:24.483  INFO 8980 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-02-11 22:42:24.502  INFO 8980 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-02-11 22:42:25.051  INFO 8980 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-02-11 22:42:25.059  INFO 8980 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-02-11 22:42:25.095  WARN 8980 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-02-11 22:42:25.347 TRACE 8980 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.auth' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 22:42:25.354 TRACE 8980 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.deposit' with attribute: PROPAGATION_REQUIRES_NEW,ISOLATION_DEFAULT
2022-02-11 22:42:25.355 TRACE 8980 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.checkIfUserExists' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 22:42:25.355 TRACE 8980 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.getBalance' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 22:42:25.355 TRACE 8980 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.withdraw' with attribute: PROPAGATION_REQUIRES_NEW,ISOLATION_DEFAULT
2022-02-11 22:42:25.355 TRACE 8980 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.emulator.bankservice.service.impl.BankServiceImpl.getTransactionsByAccountNumberAndDateBetween' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2022-02-11 22:42:25.471  INFO 8980 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@709d2a6c, org.springframework.security.web.context.SecurityContextPersistenceFilter@1adfb5b8, org.springframework.security.web.header.HeaderWriterFilter@69a3bf40, org.springframework.security.web.authentication.logout.LogoutFilter@4b762988, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4b9b5da5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@65f470f8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1aef7428, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3b50f432, org.springframework.security.web.session.SessionManagementFilter@52325940, org.springframework.security.web.access.ExceptionTranslationFilter@66a93b25, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@736f8837]
2022-02-11 22:42:25.747  INFO 8980 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path '/bank-service'
2022-02-11 22:42:25.754  INFO 8980 --- [main] c.e.bankservice.BankServiceApplication   : Started BankServiceApplication in 3.838 seconds (JVM running for 4.234)
2022-02-11 22:42:40.677  INFO 8980 --- [http-nio-8081-exec-1] o.a.c.c.C.[.[localhost].[/bank-service]  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-02-11 22:42:40.678  INFO 8980 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-02-11 22:42:40.679  INFO 8980 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2022-02-11 22:42:41.079  WARN 8980 --- [http-nio-8081-exec-1] o.a.c.util.SessionIdGeneratorBase        : Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [191] milliseconds.
2022-02-11 22:42:41.116 TRACE 8980 --- [http-nio-8081-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.checkIfUserExists]
2022-02-11 22:42:41.125  INFO 8980 --- [http-nio-8081-exec-1] c.e.b.service.impl.BankServiceImpl       : Checking if user exists with card number: 5488123412341235
2022-02-11 22:42:41.126 TRACE 8980 --- [http-nio-8081-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByCardNumber]: This method is not transactional.
2022-02-11 22:42:41.223 TRACE 8980 --- [http-nio-8081-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.checkIfUserExists]
2022-02-11 22:42:45.210 TRACE 8980 --- [http-nio-8081-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.auth]
2022-02-11 22:42:45.213 TRACE 8980 --- [http-nio-8081-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2022-02-11 22:42:45.226 TRACE 8980 --- [http-nio-8081-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2022-02-11 22:42:45.226  INFO 8980 --- [http-nio-8081-exec-2] c.e.b.authorization.PinAuthorization     : Authenticating user using PIN method
2022-02-11 22:42:45.226 TRACE 8980 --- [http-nio-8081-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.auth]
2022-02-11 22:42:51.700 TRACE 8980 --- [http-nio-8081-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.deposit]
2022-02-11 22:42:51.700 TRACE 8980 --- [http-nio-8081-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2022-02-11 22:42:51.702 TRACE 8980 --- [http-nio-8081-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2022-02-11 22:42:51.702  INFO 8980 --- [http-nio-8081-exec-3] c.e.b.service.impl.BankServiceImpl       : Doing DEPOSIT operation for user 111 with final balance of 2503.00
2022-02-11 22:42:51.704 TRACE 8980 --- [http-nio-8081-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2022-02-11 22:42:51.715 TRACE 8980 --- [http-nio-8081-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2022-02-11 22:42:51.715  INFO 8980 --- [http-nio-8081-exec-3] c.e.b.s.impl.TransactionServiceImpl      : saving DEPOSIT transaction with amount 2503.00 for user 111
2022-02-11 22:42:51.715 TRACE 8980 --- [http-nio-8081-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2022-02-11 22:42:51.753 TRACE 8980 --- [http-nio-8081-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2022-02-11 22:42:51.754 TRACE 8980 --- [http-nio-8081-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.deposit]
2022-02-11 22:43:00.261 TRACE 8980 --- [http-nio-8081-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.withdraw]
2022-02-11 22:43:00.262 TRACE 8980 --- [http-nio-8081-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2022-02-11 22:43:00.263 TRACE 8980 --- [http-nio-8081-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2022-02-11 22:43:00.264  INFO 8980 --- [http-nio-8081-exec-4] c.e.b.service.impl.BankServiceImpl       : Doing WITHDRAW operation for user 111 with final balance of 2003.00
2022-02-11 22:43:00.264 TRACE 8980 --- [http-nio-8081-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2022-02-11 22:43:00.264 TRACE 8980 --- [http-nio-8081-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2022-02-11 22:43:00.264  INFO 8980 --- [http-nio-8081-exec-4] c.e.b.s.impl.TransactionServiceImpl      : saving WITHDRAW transaction with amount 2003.00 for user 111
2022-02-11 22:43:00.264 TRACE 8980 --- [http-nio-8081-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2022-02-11 22:43:00.268 TRACE 8980 --- [http-nio-8081-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2022-02-11 22:43:00.268 TRACE 8980 --- [http-nio-8081-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.withdraw]
2022-02-11 22:43:06.297 TRACE 8980 --- [http-nio-8081-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.withdraw]
2022-02-11 22:43:06.298 TRACE 8980 --- [http-nio-8081-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2022-02-11 22:43:06.300 TRACE 8980 --- [http-nio-8081-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2022-02-11 22:43:06.300  INFO 8980 --- [http-nio-8081-exec-5] c.e.b.service.impl.BankServiceImpl       : Doing WITHDRAW operation for user 111 with final balance of 1493.00
2022-02-11 22:43:06.301 TRACE 8980 --- [http-nio-8081-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2022-02-11 22:43:06.301 TRACE 8980 --- [http-nio-8081-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2022-02-11 22:43:06.301  INFO 8980 --- [http-nio-8081-exec-5] c.e.b.s.impl.TransactionServiceImpl      : saving WITHDRAW transaction with amount 1493.00 for user 111
2022-02-11 22:43:06.301 TRACE 8980 --- [http-nio-8081-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2022-02-11 22:43:06.304 TRACE 8980 --- [http-nio-8081-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2022-02-11 22:43:06.305 TRACE 8980 --- [http-nio-8081-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.withdraw]
2022-02-11 22:43:09.134 TRACE 8980 --- [http-nio-8081-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.withdraw]
2022-02-11 22:43:09.134 TRACE 8980 --- [http-nio-8081-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2022-02-11 22:43:09.136 TRACE 8980 --- [http-nio-8081-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2022-02-11 22:43:09.136  INFO 8980 --- [http-nio-8081-exec-6] c.e.b.service.impl.BankServiceImpl       : Doing WITHDRAW operation for user 111 with final balance of 983.00
2022-02-11 22:43:09.136 TRACE 8980 --- [http-nio-8081-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2022-02-11 22:43:09.136 TRACE 8980 --- [http-nio-8081-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2022-02-11 22:43:09.137  INFO 8980 --- [http-nio-8081-exec-6] c.e.b.s.impl.TransactionServiceImpl      : saving WITHDRAW transaction with amount 983.00 for user 111
2022-02-11 22:43:09.137 TRACE 8980 --- [http-nio-8081-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2022-02-11 22:43:09.140 TRACE 8980 --- [http-nio-8081-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2022-02-11 22:43:09.140 TRACE 8980 --- [http-nio-8081-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.withdraw]
2022-02-11 22:43:10.059 TRACE 8980 --- [http-nio-8081-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.withdraw]
2022-02-11 22:43:10.059 TRACE 8980 --- [http-nio-8081-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2022-02-11 22:43:10.061 TRACE 8980 --- [http-nio-8081-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2022-02-11 22:43:10.061  INFO 8980 --- [http-nio-8081-exec-7] c.e.b.service.impl.BankServiceImpl       : Doing WITHDRAW operation for user 111 with final balance of 473.00
2022-02-11 22:43:10.062 TRACE 8980 --- [http-nio-8081-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2022-02-11 22:43:10.062 TRACE 8980 --- [http-nio-8081-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2022-02-11 22:43:10.062  INFO 8980 --- [http-nio-8081-exec-7] c.e.b.s.impl.TransactionServiceImpl      : saving WITHDRAW transaction with amount 473.00 for user 111
2022-02-11 22:43:10.062 TRACE 8980 --- [http-nio-8081-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2022-02-11 22:43:10.065 TRACE 8980 --- [http-nio-8081-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2022-02-11 22:43:10.065 TRACE 8980 --- [http-nio-8081-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.withdraw]
2022-02-11 22:43:10.948 TRACE 8980 --- [http-nio-8081-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.withdraw]
2022-02-11 22:43:10.948 TRACE 8980 --- [http-nio-8081-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2022-02-11 22:43:10.950 TRACE 8980 --- [http-nio-8081-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2022-02-11 22:43:10.951 TRACE 8980 --- [http-nio-8081-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.withdraw] after exception: com.emulator.bankservice.exception.OutOfBalanceException: Not enough balance to withdraw
2022-02-11 22:43:10.958 ERROR 8980 --- [http-nio-8081-exec-8] c.e.b.exception.CommonExceptionHandler   : Requested amount isn't possible to withdraw Not enough balance to withdraw

com.emulator.bankservice.exception.OutOfBalanceException: Not enough balance to withdraw
	at com.emulator.bankservice.service.impl.BankServiceImpl.withdrawUserBalance(BankServiceImpl.java:98) ~[main/:na]
	at com.emulator.bankservice.service.impl.BankServiceImpl.lambda$withdraw$1(BankServiceImpl.java:63) ~[main/:na]
	at java.base/java.util.Optional.map(Optional.java:265) ~[na:na]
	at com.emulator.bankservice.service.impl.BankServiceImpl.withdraw(BankServiceImpl.java:63) ~[main/:na]
	at com.emulator.bankservice.service.impl.BankServiceImpl$$FastClassBySpringCGLIB$$93e574a5.invoke(<generated>) ~[main/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.15.jar:5.3.15]
	at com.emulator.bankservice.service.impl.BankServiceImpl$$EnhancerBySpringCGLIB$$8e01f0f4.withdraw(<generated>) ~[main/:na]
	at com.emulator.bankservice.controller.BankServiceController.withdraw(BankServiceController.java:51) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]

2022-02-11 22:43:17.410 TRACE 8980 --- [http-nio-8081-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.withdraw]
2022-02-11 22:43:17.410 TRACE 8980 --- [http-nio-8081-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2022-02-11 22:43:17.412 TRACE 8980 --- [http-nio-8081-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2022-02-11 22:43:17.413 TRACE 8980 --- [http-nio-8081-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.withdraw] after exception: com.emulator.bankservice.exception.OutOfBalanceException: Not enough balance to withdraw
2022-02-11 22:43:17.414 ERROR 8980 --- [http-nio-8081-exec-9] c.e.b.exception.CommonExceptionHandler   : Requested amount isn't possible to withdraw Not enough balance to withdraw

com.emulator.bankservice.exception.OutOfBalanceException: Not enough balance to withdraw
	at com.emulator.bankservice.service.impl.BankServiceImpl.withdrawUserBalance(BankServiceImpl.java:98) ~[main/:na]
	at com.emulator.bankservice.service.impl.BankServiceImpl.lambda$withdraw$1(BankServiceImpl.java:63) ~[main/:na]
	at java.base/java.util.Optional.map(Optional.java:265) ~[na:na]
	at com.emulator.bankservice.service.impl.BankServiceImpl.withdraw(BankServiceImpl.java:63) ~[main/:na]
	at com.emulator.bankservice.service.impl.BankServiceImpl$$FastClassBySpringCGLIB$$93e574a5.invoke(<generated>) ~[main/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.15.jar:5.3.15]
	at com.emulator.bankservice.service.impl.BankServiceImpl$$EnhancerBySpringCGLIB$$8e01f0f4.withdraw(<generated>) ~[main/:na]
	at com.emulator.bankservice.controller.BankServiceController.withdraw(BankServiceController.java:51) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]

2022-02-11 22:43:17.905 TRACE 8980 --- [http-nio-8081-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.withdraw]
2022-02-11 22:43:17.906 TRACE 8980 --- [http-nio-8081-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2022-02-11 22:43:17.908 TRACE 8980 --- [http-nio-8081-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2022-02-11 22:43:17.908 TRACE 8980 --- [http-nio-8081-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.withdraw] after exception: com.emulator.bankservice.exception.OutOfBalanceException: Not enough balance to withdraw
2022-02-11 22:43:17.910 ERROR 8980 --- [http-nio-8081-exec-10] c.e.b.exception.CommonExceptionHandler   : Requested amount isn't possible to withdraw Not enough balance to withdraw

com.emulator.bankservice.exception.OutOfBalanceException: Not enough balance to withdraw
	at com.emulator.bankservice.service.impl.BankServiceImpl.withdrawUserBalance(BankServiceImpl.java:98) ~[main/:na]
	at com.emulator.bankservice.service.impl.BankServiceImpl.lambda$withdraw$1(BankServiceImpl.java:63) ~[main/:na]
	at java.base/java.util.Optional.map(Optional.java:265) ~[na:na]
	at com.emulator.bankservice.service.impl.BankServiceImpl.withdraw(BankServiceImpl.java:63) ~[main/:na]
	at com.emulator.bankservice.service.impl.BankServiceImpl$$FastClassBySpringCGLIB$$93e574a5.invoke(<generated>) ~[main/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.15.jar:5.3.15]
	at com.emulator.bankservice.service.impl.BankServiceImpl$$EnhancerBySpringCGLIB$$8e01f0f4.withdraw(<generated>) ~[main/:na]
	at com.emulator.bankservice.controller.BankServiceController.withdraw(BankServiceController.java:51) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]

2022-02-11 22:43:18.218 TRACE 8980 --- [http-nio-8081-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.withdraw]
2022-02-11 22:43:18.218 TRACE 8980 --- [http-nio-8081-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2022-02-11 22:43:18.220 TRACE 8980 --- [http-nio-8081-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2022-02-11 22:43:18.220 TRACE 8980 --- [http-nio-8081-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.emulator.bankservice.service.impl.BankServiceImpl.withdraw] after exception: com.emulator.bankservice.exception.OutOfBalanceException: Not enough balance to withdraw
2022-02-11 22:43:18.221 ERROR 8980 --- [http-nio-8081-exec-1] c.e.b.exception.CommonExceptionHandler   : Requested amount isn't possible to withdraw Not enough balance to withdraw

com.emulator.bankservice.exception.OutOfBalanceException: Not enough balance to withdraw
	at com.emulator.bankservice.service.impl.BankServiceImpl.withdrawUserBalance(BankServiceImpl.java:98) ~[main/:na]
	at com.emulator.bankservice.service.impl.BankServiceImpl.lambda$withdraw$1(BankServiceImpl.java:63) ~[main/:na]
	at java.base/java.util.Optional.map(Optional.java:265) ~[na:na]
	at com.emulator.bankservice.service.impl.BankServiceImpl.withdraw(BankServiceImpl.java:63) ~[main/:na]
	at com.emulator.bankservice.service.impl.BankServiceImpl$$FastClassBySpringCGLIB$$93e574a5.invoke(<generated>) ~[main/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.15.jar:5.3.15]
	at com.emulator.bankservice.service.impl.BankServiceImpl$$EnhancerBySpringCGLIB$$8e01f0f4.withdraw(<generated>) ~[main/:na]
	at com.emulator.bankservice.controller.BankServiceController.withdraw(BankServiceController.java:51) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.15.jar:5.3.15]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]

